"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[707],{96707:(Si,Z,c)=>{c.r(Z),c.d(Z,{CrmModule:()=>Ii});var p=c(60177),d=c(89417),m=c(22960),Y=c(91022),M=c(72510),pe=c(63789),ge=c(98982),_e=c.n(ge),u=c(56977),k=c(37021),E=c(35335),N=c(45236),G=c(70980),F=c(75622),h=c(36158),e=c(54438),f=c(51188),_=c(8147),V=c(67569),D=c(45312),L=c(21626);let ue=(()=>{class a extends V.d{constructor(t){super(t,D.c.apiUrl+"ClientReviewActionDoing/")}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(L.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var R=c(3888),b=c(1530),y=c(91426),x=c(91580),T=c(88148),A=c(15084),S=c(40724),w=c(29935),z=c(94575),v=c(56803),j=c(5779),U=c(41631);const he=()=>["permission.setupData.register"],fe=()=>["permission.setupData.edit"],be=()=>["permission.setupData.delete"];function ve(a,l){1&a&&(e.j41(0,"tr",24)(1,"th",25),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",26),e.nrm(4,"i",27),e.EFF(5," general.table.nameAr "),e.k0s(),e.j41(6,"th",28),e.nrm(7,"i",27),e.EFF(8," general.table.nameEn "),e.k0s(),e.j41(9,"th",29),e.nrm(10,"i",27),e.EFF(11," general.table.isActive "),e.k0s(),e.nrm(12,"th",30),e.k0s())}function Ce(a,l){1&a&&e.nrm(0,"span",37)}function Re(a,l){1&a&&e.nrm(0,"span",38)}function je(a,l){if(1&a&&(e.nrm(0,"i",39),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",40),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",41),e.EFF(9)),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.createdDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.updatedDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName," ")}}function we(a,l){if(1&a){const t=e.RV6();e.j41(0,"button",42),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),r=e.sdS(19);return e.Njj(o.EditModel(n.id,r))}),e.nrm(1,"i",43),e.k0s()}}function Ie(a,l){if(1&a){const t=e.RV6();e.j41(0,"button",44),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),r=e.sdS(21);return e.Njj(o.openModal(n.id,r))}),e.nrm(1,"i",45),e.k0s()}}function Fe(a,l){if(1&a&&(e.j41(0,"tr",31)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,Ce,1,0,"span",32)(9,Re,1,0,"span",33),e.k0s(),e.j41(10,"td"),e.DNE(11,je,10,9,"ng-template",null,3,e.C5r),e.nrm(13,"i",34),e.DNE(14,we,2,0,"button",35)(15,Ie,2,0,"button",36),e.k0s()()),2&a){const t=l.$implicit,i=l.rowIndex,n=e.sdS(12);e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(t.nameAr),e.R7$(2),e.JRh(t.nameEn),e.R7$(2),e.Y8G("ngIf",t.isActive),e.R7$(),e.Y8G("ngIf",!t.isActive),e.R7$(4),e.Y8G("ngbTooltip",n),e.R7$(),e.Y8G("hasPermission",e.lJ4(8,fe)),e.R7$(),e.Y8G("hasPermission",e.lJ4(9,be))}}function ye(a,l){1&a&&(e.j41(0,"div",46),e.EFF(1," general.table.noData"),e.k0s())}function xe(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",47)(1,"div",48),e.nrm(2,"ngb-pagination-info",49),e.j41(3,"table-length",50),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",51)(5,"ngb-pagination",52),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Te(a,l){1&a&&(e.j41(0,"span",77),e.EFF(1,"general.action.register "),e.k0s())}function Se(a,l){1&a&&(e.j41(0,"span",77),e.EFF(1,"general.action.edit "),e.k0s())}function Me(a,l){1&a&&(e.j41(0,"div",78),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function ke(a,l){1&a&&(e.j41(0,"div",78),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Ee(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",53)(1,"div",54)(2,"h4",55),e.DNE(3,Te,2,0,"span",56)(4,Se,2,0,"span",56),e.j41(5,"span",57),e.EFF(6),e.k0s()(),e.j41(7,"button",58),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",59),e.nrm(9,"ngx-ui-loader",60),e.j41(10,"form",61,4),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.j41(12,"div",62)(13,"label",63),e.EFF(14,"general.table.nameAr"),e.k0s(),e.j41(15,"input",64,5),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.nameAr,n)||(o.form.nameAr=n),e.Njj(n)}),e.k0s(),e.DNE(17,Me,2,0,"div",65),e.k0s(),e.j41(18,"div",62)(19,"label",66),e.EFF(20,"general.table.nameEn"),e.k0s(),e.j41(21,"input",67,6),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.nameEn,n)||(o.form.nameEn=n),e.Njj(n)}),e.k0s(),e.DNE(23,ke,2,0,"div",65),e.k0s(),e.j41(24,"div",62)(25,"label",68),e.EFF(26,"general.table.notes"),e.k0s(),e.j41(27,"input",69,7),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.notes,n)||(o.form.notes=n),e.Njj(n)}),e.k0s()(),e.j41(29,"div",70)(30,"label",71),e.EFF(31,"general.table.isActive"),e.k0s(),e.j41(32,"p-inputSwitch",72),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.isActive,n)||(o.form.isActive=n),e.Njj(n)}),e.k0s()(),e.j41(33,"div",73)(34,"button",74),e.nrm(35,"i",75)(36,"span",76),e.k0s()()()()()}if(2&a){const t=e.sdS(11),i=e.sdS(16),n=e.sdS(22),o=e.XpG();e.R7$(3),e.Y8G("ngIf",!o.isEditForm),e.R7$(),e.Y8G("ngIf",o.isEditForm),e.R7$(2),e.JRh(o.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",o.loaderOperationShap)("loaderId",o.operationLoader),e.R7$(6),e.R50("ngModel",o.form.nameAr),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(4),e.R50("ngModel",o.form.nameEn),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(4),e.R50("ngModel",o.form.notes),e.R7$(5),e.R50("ngModel",o.form.isActive),e.R7$(2),e.Y8G("disabled",!t.valid)}}function Ne(a,l){if(1&a){const t=e.RV6();e.j41(0,"delete-modal",79),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let ee=(()=>{class a extends F.w{constructor(t,i,n,o,r,s,g,C,I){super(t,i,g,n,o,r,s),this.baseService=n,this.excelService=I,this.title="crm.clientReviewActionDoing.title",this.titleOperation="crm.clientReviewActionDoing.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm={},this.isResolveList=!0,this.countLoad=2,this.configRoute()}onUpdateIsActive(t){this.baseService.updateActive(t).pipe((0,u.Q)(this.notifier)).subscribe(i=>{i?this.alertService.success():this.alertService.error("general.message."+i)},i=>{this.alertService.error()})}ngOnInitMore(){}mapForm(t){return{...t}}mapRegisterForm(t){let i={...t};return i.id=0,i}OnSearch(t){this.ngxLoader.startLoader(h.a7),this.loadentities()}onSearch(){this.ngxLoader.startLoader(h.a7),this.loadentities()}configRoute(){}mapExcel(){let t=[];return this.entities?.forEach(i=>{t.push({nameAr:i.nameAr,nameEn:i.nameEn,isActive:this.getTranslationText("general.table.active"),notes:i.notes})}),t}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,this.getTranslationText(this.title),[])}editEntity(){let t=this.mapForm(this.form);this.baseService.editPut(t.id,t).pipe((0,k.O)(),(0,E.c)(this.mainDelay),(0,N.Z)(),(0,u.Q)(this.notifier),(0,G.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(ue),e.rXU(R.u),e.rXU(p.vh),e.rXU(b.eD),e.rXU(m.Bq),e.rXU(e.gRc),e.rXU(y.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["clientReviewActionDoing"]],features:[e.Vt3],decls:22,vars:14,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameAr","ngModel"],["nameEn","ngModel"],["notes","ngModel"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","nameAr","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","nameEn","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list",3,"click",4,"hasPermission"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-time-fill","text-warning"],[1,"ri-time-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],[1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"hasProgressBar","fgsType","loaderId"],[3,"submit"],[1,"mb-3"],["for","nameAr","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","nameAr","type","text","id","nameAr","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameEn","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","nameEn","type","text","id","nameEn","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","form-check"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit","type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"base-filter",11),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(o);const s=e.sdS(19);return e.Njj(n.openModalTitle(s,"md"))}),e.qex(4,12),e.j41(5,"div",13)(6,"div",14)(7,"input",15),e.nI1(8,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.filterValue,s)||(n.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(9,"i",16),e.k0s()(),e.bVm(),e.k0s(),e.j41(10,"div",17)(11,"div",18)(12,"p-table",19,0),e.bIt("onLazyLoad",function(s){return e.eBV(o),e.Njj(n.tableChange(s))})("selectionChange",function(s){return e.eBV(o),e.Njj(n.onSelectionChange(s))}),e.DNE(14,ve,13,0,"ng-template",20)(15,Fe,16,10,"ng-template",21),e.k0s()(),e.DNE(16,ye,2,0,"div",22)(17,xe,6,8,"div",23),e.k0s()()()(),e.DNE(18,Ee,37,13,"ng-template",null,1,e.C5r)(20,Ne,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.R7$(3),e.Y8G("addPermission",e.lJ4(13,he))("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(4),e.FS9("placeholder",e.bMT(8,11,"task.tasklist.subject")),e.R50("ngModel",n.pagination.filterValue),e.R7$(5),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[p.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,m.s5,x.g,T.p,A.w,S.b,w.m,z.p,_.Mm,v.XI,j.Ei,v.Tg,U.HW,b.Cv,m.md,p.vh,_.D9],encapsulation:2})}}return a})(),O=(()=>{class a extends V.d{constructor(t){super(t,D.c.apiUrl+"Leads/")}GetLeadsLookUps(){return this.http.get(this.baseUrl+"LeadsLookUp")}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(L.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Ge=c(54384),X=c(26364);function Ve(a,l){1&a&&(e.j41(0,"tr",25)(1,"th",26),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",27),e.nrm(4,"i",28),e.EFF(5," general.table.name "),e.k0s(),e.j41(6,"th",29),e.nrm(7,"i",28),e.EFF(8," crm.leads.mobile "),e.k0s(),e.j41(9,"th",30),e.nrm(10,"i",28),e.EFF(11," crm.leads.cityName "),e.k0s(),e.j41(12,"th",31),e.nrm(13,"i",28),e.EFF(14," crm.leads.channelName "),e.k0s(),e.j41(15,"th",32),e.nrm(16,"i",28),e.EFF(17," crm.leads.leadType "),e.k0s(),e.j41(18,"th",33),e.nrm(19,"i",28),e.EFF(20," general.table.isActive "),e.k0s(),e.nrm(21,"th",34),e.k0s())}function De(a,l){1&a&&e.nrm(0,"span",51)}function Le(a,l){1&a&&e.nrm(0,"span",52)}function Ae(a,l){if(1&a&&(e.nrm(0,"i",53),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",54),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",55),e.EFF(9)),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName," ")}}function Xe(a,l){if(1&a){const t=e.RV6();e.j41(0,"tr",35)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"td"),e.DNE(15,De,1,0,"span",36)(16,Le,1,0,"span",37),e.k0s(),e.j41(17,"td"),e.DNE(18,Ae,10,9,"ng-template",null,2,e.C5r),e.j41(20,"span",38)(21,"div",39),e.nrm(22,"i",40),e.j41(23,"button",41),e.nrm(24,"i",42),e.k0s(),e.j41(25,"ul",43)(26,"li",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.goLeadEdit(n.id))}),e.j41(27,"span",45),e.nrm(28,"i",46)(29,"span",47),e.k0s()(),e.j41(30,"li",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(34);return e.Njj(o.openModal(n.id,r))}),e.j41(31,"a",48),e.nrm(32,"i",49)(33,"span",50),e.k0s()()()()()()()}if(2&a){const t=l.$implicit,i=l.rowIndex,n=e.sdS(19);e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.mobile),e.R7$(2),e.JRh(t.cityName),e.R7$(2),e.JRh(t.channelName),e.R7$(2),e.JRh(e.bMT(13,9,"crm.leads."+t.leadsTypeName)),e.R7$(3),e.Y8G("ngIf",t.isActive),e.R7$(),e.Y8G("ngIf",!t.isActive),e.R7$(6),e.Y8G("ngbTooltip",n)}}function Be(a,l){1&a&&(e.j41(0,"div",56),e.EFF(1," general.table.noData"),e.k0s())}function $e(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",57)(1,"div",58),e.nrm(2,"ngb-pagination-info",59),e.j41(3,"table-length",60),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",61)(5,"ngb-pagination",62),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Ye(a,l){if(1&a){const t=e.RV6();e.j41(0,"delete-modal",63),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let Ue=(()=>{class a extends F.w{constructor(t,i,n,o,r,s,g,C,I,$){super(t,i,g,r,n,o,s),this.baseService=r,this.service=C,this.excelService=I,this.router=$,this.title="crm.leads.title",this.submitted=!1,this.cities={},this.channels={},this.leadTypes={},this.isResolveList=!0,this.configRoute(),this.GetAgentLookUps()}configRoute(){this.routerActive.data.pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.entities=t.data.data,this.pagination.totalItems=t.data.totalItems},()=>{this.alertService.error()})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.loadentities()}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,"Service Type",[])}mapExcel(){let t=[];return this.entities?.forEach(i=>{t.push({name:i.name,mobile:i.mobile,cityName:i.cityName,channelName:i.channelName,leadType:i.leadTypeName,isActive:this.getTranslationText("general.table.active")})}),t}GetAgentLookUps(){this.baseService.GetLeadsLookUps().subscribe(t=>{this.channels=t.data.channels,this.cities=t.data.cityNames,this.leadTypes=t.data.leadTypes.forEach(n=>{n.name=this.getTranslationText("crm.leads."+n)})},t=>{console.log(t)})}goLeadCreate(){this.router.navigateByUrl("/crm/leads/register")}goLeadEdit(t){this.router.navigateByUrl("/crm/leads/edit",{state:{id:t}})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(R.u),e.rXU(p.vh),e.rXU(O),e.rXU(b.eD),e.rXU(m.Bq),e.rXU(Ge.m),e.rXU(y.V),e.rXU(f.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-leads"]],features:[e.Vt3],decls:35,vars:29,consts:[["tableMaster",""],["deleteModal",""],["tooltipContent",""],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","totalItems","title"],["control",""],[1,"col-12","col-md-2","mb-2"],[1,"search-box"],["InputTirmFilter","","type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],["InputTirmFilter","","type","search","id","mobile","name","mobile",1,"form-control",3,"ngModelChange","ngModel"],["name","userType","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","channelCode","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","Status","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","name","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","mobile","translate","",2,"width","10%"],["pSortableColumn","cityName","translate","",2,"width","10%"],["pSortableColumn","channelName","translate","",2,"width","10%"],["pSortableColumn","leadsTypes","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],[1,"d-inline"],["ngbDropdown","",1,"dropdown"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],["translate","general.action.edit"],["href","javascript:void(0);",1,"dropdown-item"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],["translate","general.action.delete"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-time-fill","text-warning"],[1,"ri-time-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[3,"deleteConfirm","dismiss"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.nI1(1,"translate"),e.j41(2,"div",4)(3,"div",5)(4,"div",6)(5,"base-filter",7),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){return e.eBV(o),e.Njj(n.goLeadCreate())}),e.qex(6,8),e.j41(7,"div",9)(8,"div",10)(9,"input",11),e.nI1(10,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.filterValue,s)||(n.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(11,"i",12),e.k0s()(),e.j41(12,"div",9)(13,"div",10)(14,"input",13),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.mobile,s)||(n.pagination.mobile=s),e.Njj(s)}),e.k0s()()(),e.j41(15,"div",9)(16,"div",10)(17,"ng-select",14),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.CityCode,s)||(n.pagination.CityCode=s),e.Njj(s)}),e.k0s()()(),e.j41(18,"div",9)(19,"div",10)(20,"ng-select",15),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.channelCode,s)||(n.pagination.channelCode=s),e.Njj(s)}),e.k0s()()(),e.j41(21,"div",9)(22,"div",10)(23,"ng-select",16),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.Status,s)||(n.pagination.Status=s),e.Njj(s)}),e.k0s()()(),e.bVm(),e.k0s(),e.j41(24,"div",17),e.nrm(25,"ngx-ui-loader",18),e.j41(26,"div",19)(27,"p-table",20,0),e.bIt("onLazyLoad",function(s){return e.eBV(o),e.Njj(n.tableChange(s))})("selectionChange",function(s){return e.eBV(o),e.Njj(n.onSelectionChange(s))}),e.DNE(29,Ve,22,0,"ng-template",21)(30,Xe,34,11,"ng-template",22),e.k0s()(),e.DNE(31,Be,2,0,"div",23)(32,$e,6,8,"div",24),e.k0s()()()(),e.DNE(33,Ye,1,0,"ng-template",null,1,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,25,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,27,"task.tasklist.subject")),e.R50("ngModel",n.pagination.filterValue),e.R7$(5),e.R50("ngModel",n.pagination.mobile),e.R7$(3),e.Y8G("items",n.cities)("multiple",!1),e.R50("ngModel",n.pagination.CityCode),e.R7$(3),e.Y8G("items",n.channels)("multiple",!1),e.R50("ngModel",n.pagination.channelCode),e.R7$(3),e.Y8G("items",n.leadTypes)("multiple",!1),e.R50("ngModel",n.pagination.Status),e.R7$(2),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[p.bT,d.me,d.BC,d.vS,m.tg,m.do,m.U0,m.s5,X.m,x.g,T.p,A.w,S.b,w.m,_.Mm,v.XI,j.Ei,v.Tg,b.Cv,m.md,M.vr,p.vh,_.D9],encapsulation:2})}}return a})();var P=c(99437),te=c(18810),Oe=c(33826),He=c(62984),Qe=c(12260),ze=c(16229),Pe=c(12822);let B=(()=>{class a extends V.d{constructor(t){super(t,D.c.apiUrl+"ClientReview/")}ClientReviewLookUp(){return this.http.get(this.baseUrl+"ClientReviewLookUp")}ClientReviewChartCount(t){return this.http.post(this.baseUrl+"ClientReviewChartCount",t)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(L.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var J=c(57719),q=c(461),H=c(54420);let ne=(()=>{class a extends q.h{pathId;ngOnInit(){this.pathId="url(#"+(0,H._Y)()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["BanIcon"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){1&i&&(e.qSk(),e.j41(0,"svg",0)(1,"g"),e.nrm(2,"path",1),e.k0s(),e.j41(3,"defs")(4,"clipPath",2),e.nrm(5,"rect",3),e.k0s()()()),2&i&&(e.HbH(n.getClassNames()),e.BMQ("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),e.R7$(),e.BMQ("clip-path",n.pathId),e.R7$(3),e.Y8G("id",n.pathId))},encapsulation:2})}return a})(),ie=(()=>{class a extends q.h{pathId;ngOnInit(){this.pathId="url(#"+(0,H._Y)()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["StarIcon"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){1&i&&(e.qSk(),e.j41(0,"svg",0)(1,"g"),e.nrm(2,"path",1),e.k0s(),e.j41(3,"defs")(4,"clipPath",2),e.nrm(5,"rect",3),e.k0s()()()),2&i&&(e.HbH(n.getClassNames()),e.BMQ("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),e.R7$(),e.BMQ("clip-path",n.pathId),e.R7$(3),e.Y8G("id",n.pathId))},encapsulation:2})}return a})(),ae=(()=>{class a extends q.h{pathId;ngOnInit(){this.pathId="url(#"+(0,H._Y)()+")"}static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["StarFillIcon"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){1&i&&(e.qSk(),e.j41(0,"svg",0)(1,"g"),e.nrm(2,"path",1),e.k0s(),e.j41(3,"defs")(4,"clipPath",2),e.nrm(5,"rect",3),e.k0s()()()),2&i&&(e.HbH(n.getClassNames()),e.BMQ("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),e.R7$(),e.BMQ("clip-path",n.pathId),e.R7$(3),e.Y8G("id",n.pathId))},encapsulation:2})}return a})();var oe=c(81455),se=c(41880);const Je=(a,l)=>({"p-readonly":a,"p-disabled":l}),qe=a=>({"p-focus":a}),We=(a,l)=>({"p-rating-item-active":a,"p-focus":l});function Ke(a,l){if(1&a&&e.nrm(0,"span",10),2&a){const t=e.XpG(3);e.Y8G("ngClass",t.iconCancelClass)("ngStyle",t.iconCancelStyle)}}function Ze(a,l){if(1&a&&e.nrm(0,"BanIcon",11),2&a){const t=e.XpG(3);e.Y8G("styleClass","p-rating-icon p-rating-cancel")("ngStyle",t.iconCancelStyle),e.BMQ("data-pc-section","cancelIcon")}}function et(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",5),e.bIt("click",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onOptionClick(n,0))}),e.j41(1,"span",6)(2,"input",7),e.bIt("focus",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onInputFocus(n,0))})("blur",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onInputBlur(n))})("change",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onChange(n,0))}),e.k0s()(),e.DNE(3,Ke,1,2,"span",8)(4,Ze,1,3,"BanIcon",9),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(11,qe,0===t.focusedOptionIndex()&&t.isFocusVisibleItem)),e.BMQ("data-pc-section","cancelItem"),e.R7$(),e.BMQ("data-p-hidden-accessible",!0),e.R7$(),e.Y8G("name",t.name)("checked",0===t.value)("disabled",t.disabled)("readonly",t.readonly)("autofocus",t.autofocus),e.BMQ("aria-label",t.cancelAriaLabel()),e.R7$(),e.Y8G("ngIf",t.iconCancelClass),e.R7$(),e.Y8G("ngIf",!t.iconCancelClass)}}function tt(a,l){if(1&a&&e.nrm(0,"span",16),2&a){const t=e.XpG(4);e.Y8G("ngStyle",t.iconOffStyle)("ngClass",t.iconOffClass),e.BMQ("data-pc-section","offIcon")}}function nt(a,l){if(1&a&&e.nrm(0,"StarIcon",17),2&a){const t=e.XpG(4);e.Y8G("ngStyle",t.iconOffStyle)("styleClass","p-rating-icon"),e.BMQ("data-pc-section","offIcon")}}function it(a,l){if(1&a&&(e.qex(0),e.DNE(1,tt,1,3,"span",14)(2,nt,1,3,"StarIcon",15),e.bVm()),2&a){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.iconOffClass),e.R7$(),e.Y8G("ngIf",!t.iconOffClass)}}function at(a,l){if(1&a&&e.nrm(0,"span",19),2&a){const t=e.XpG(4);e.Y8G("ngStyle",t.iconOnStyle)("ngClass",t.iconOnClass),e.BMQ("data-pc-section","onIcon")}}function ot(a,l){if(1&a&&e.nrm(0,"StarFillIcon",17),2&a){const t=e.XpG(4);e.Y8G("ngStyle",t.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),e.BMQ("data-pc-section","onIcon")}}function st(a,l){if(1&a&&(e.qex(0),e.DNE(1,at,1,3,"span",18)(2,ot,1,3,"StarFillIcon",15),e.bVm()),2&a){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.iconOnClass),e.R7$(),e.Y8G("ngIf",!t.iconOnClass)}}function rt(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",12),e.bIt("click",function(n){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.onOptionClick(n,o+1))}),e.j41(1,"span",6)(2,"input",7),e.bIt("focus",function(n){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.onInputFocus(n,o+1))})("blur",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onInputBlur(n))})("change",function(n){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.onChange(n,o+1))}),e.k0s()(),e.DNE(3,it,3,2,"ng-container",13)(4,st,3,2,"ng-container",13),e.k0s()}if(2&a){const t=l.$implicit,i=l.index,n=e.XpG(2);e.Y8G("ngClass",e.l_i(10,We,t+1<=n.value,t+1===n.focusedOptionIndex()&&n.isFocusVisibleItem)),e.R7$(),e.BMQ("data-p-hidden-accessible",!0),e.R7$(),e.Y8G("name",n.name)("checked",0===n.value)("disabled",n.disabled)("readonly",n.readonly)("autofocus",n.autofocus),e.BMQ("aria-label",n.starAriaLabel(t+1)),e.R7$(),e.Y8G("ngIf",!n.value||i>=n.value),e.R7$(),e.Y8G("ngIf",n.value&&i<n.value)}}function lt(a,l){if(1&a&&(e.qex(0),e.DNE(1,et,5,13,"div",3)(2,rt,5,13,"ng-template",4),e.bVm()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.cancel),e.R7$(),e.Y8G("ngForOf",t.starsArray)}}function ct(a,l){1&a&&e.eu8(0)}function dt(a,l){if(1&a){const t=e.RV6();e.j41(0,"span",22),e.bIt("click",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onOptionClick(n,0))}),e.DNE(1,ct,1,0,"ng-container",23),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngStyle",t.iconCancelStyle),e.BMQ("data-pc-section","cancelIcon"),e.R7$(),e.Y8G("ngTemplateOutlet",t.cancelIconTemplate)}}function mt(a,l){1&a&&e.eu8(0)}function pt(a,l){if(1&a){const t=e.RV6();e.j41(0,"span",24),e.bIt("click",function(n){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.onOptionClick(n,o+1))}),e.DNE(1,mt,1,0,"ng-container",23),e.k0s()}if(2&a){const t=l.index,i=e.XpG(2);e.BMQ("data-pc-section","onIcon"),e.R7$(),e.Y8G("ngTemplateOutlet",i.getIconTemplate(t))}}function gt(a,l){if(1&a&&e.DNE(0,dt,2,3,"span",20)(1,pt,2,2,"span",21),2&a){const t=e.XpG();e.Y8G("ngIf",t.cancel),e.R7$(),e.Y8G("ngForOf",t.starsArray)}}const _t={provide:d.kq,useExisting:(0,e.Rfq)(()=>Q),multi:!0};let Q=(()=>{class a{cd;config;disabled;readonly;stars=5;cancel=!0;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;iconCancelClass;iconCancelStyle;autofocus;onRate=new e.bkB;onCancel=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;templates;onIconTemplate;offIconTemplate;cancelIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;isFocusVisibleItem=!0;focusedOptionIndex=(0,e.vPA)(-1);name;constructor(t,i){this.cd=t,this.config=i}ngOnInit(){this.name=this.name||(0,H._Y)(),this.starsArray=[];for(let t=0;t<this.stars;t++)this.starsArray[t]=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"onicon":this.onIconTemplate=t.template;break;case"officon":this.offIconTemplate=t.template;break;case"cancelicon":this.cancelIconTemplate=t.template}})}onOptionClick(t,i){if(!this.readonly&&!this.disabled){this.onOptionSelect(t,i),this.isFocusVisibleItem=!1;const n=oe.D.getFirstFocusableElement(t.currentTarget,"");n&&oe.D.focus(n)}}onOptionSelect(t,i){this.focusedOptionIndex.set(i),this.updateModel(t,i||null)}onChange(t,i){this.onOptionSelect(t,i),this.isFocusVisibleItem=!0}onInputBlur(t){this.focusedOptionIndex.set(-1),this.onBlur.emit(t)}onInputFocus(t,i){this.focusedOptionIndex.set(i),this.onFocus.emit(t)}updateModel(t,i){this.value=i,this.onModelChange(this.value),this.onModelTouched(),i?this.onRate.emit({originalEvent:t,value:i}):this.onCancel.emit()}cancelAriaLabel(){return this.config.translation.clear}starAriaLabel(t){return 1===t?this.config.translation.aria.star:this.config.translation.aria.stars.replace(/{star}/g,t)}getIconTemplate(t){return!this.value||t>=this.value?this.offIconTemplate:this.onIconTemplate}writeValue(t){this.value=t,this.cd.detectChanges()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(j.r1))};static \u0275cmp=e.VBU({type:a,selectors:[["p-rating"]],contentQueries:function(i,n,o){if(1&i&&e.wni(o,j.Ei,4),2&i){let r;e.mGM(r=e.lsd())&&(n.templates=r)}},hostAttrs:[1,"p-element"],inputs:{disabled:[2,"disabled","disabled",e.L39],readonly:[2,"readonly","readonly",e.L39],stars:[2,"stars","stars",e.Udg],cancel:[2,"cancel","cancel",e.L39],iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle",autofocus:[2,"autofocus","autofocus",e.L39]},outputs:{onRate:"onRate",onCancel:"onCancel",onFocus:"onFocus",onBlur:"onBlur"},features:[e.Jv_([_t]),e.GFd],decls:4,vars:8,consts:[["customTemplate",""],[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["class","p-rating-item p-rating-cancel-item",3,"ngClass","click",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-rating-item","p-rating-cancel-item",3,"click","ngClass"],[1,"p-hidden-accessible"],["type","radio","value","0","pAutoFocus","",3,"focus","blur","change","name","checked","disabled","readonly","autofocus"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle",4,"ngIf"],[3,"styleClass","ngStyle",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle"],[3,"styleClass","ngStyle"],[1,"p-rating-item",3,"click","ngClass"],[4,"ngIf"],["class","p-rating-icon",3,"ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","styleClass",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass"],[3,"ngStyle","styleClass"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click",4,"ngIf"],["class","p-rating-icon",3,"click",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"click","ngStyle"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click"]],template:function(i,n){if(1&i&&(e.j41(0,"div",1),e.DNE(1,lt,3,2,"ng-container",2)(2,gt,2,2,"ng-template",null,0,e.C5r),e.k0s()),2&i){const o=e.sdS(3);e.Y8G("ngClass",e.l_i(5,Je,n.readonly,n.disabled)),e.BMQ("data-pc-name","rating")("data-pc-section","root"),e.R7$(),e.Y8G("ngIf",!n.isCustomIcon)("ngIfElse",o)}},dependencies:()=>[p.YU,p.Sq,p.bT,p.T3,p.B3,se.q,ae,ie,ne],styles:["@layer primeng{.p-rating{display:inline-flex;position:relative;align-items:center}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}}\n"],encapsulation:2,changeDetection:0})}return a})(),ut=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[p.MD,se.u,ae,ie,ne,j.Gg]})}return a})();function ht(a,l){1&a&&(e.j41(0,"tr",31)(1,"th",32),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",33),e.nrm(4,"i",34),e.EFF(5," orderManagement.order.orderCode "),e.k0s(),e.j41(6,"th",35),e.nrm(7,"i",34),e.EFF(8," orderManagement.order.createdDate "),e.k0s(),e.j41(9,"th",36),e.nrm(10,"i",34),e.EFF(11," orderManagement.order.creationUser "),e.k0s(),e.j41(12,"th",37),e.nrm(13,"i",34),e.EFF(14," orderManagement.order.cityName "),e.k0s(),e.j41(15,"th",38),e.nrm(16,"i",34),e.EFF(17," orderManagement.order.districtName "),e.k0s(),e.j41(18,"th",39),e.nrm(19,"i",34),e.EFF(20," orderManagement.order.agentName "),e.k0s(),e.j41(21,"th",40),e.nrm(22,"i",34),e.EFF(23," orderManagement.order.channelName "),e.k0s(),e.j41(24,"th",41),e.nrm(25,"i",34),e.EFF(26," orderManagement.order.mobile "),e.k0s(),e.j41(27,"th",42),e.nrm(28,"i",34),e.EFF(29," orderManagement.order.visitDate "),e.k0s(),e.j41(30,"th",43),e.nrm(31,"i",34),e.EFF(32," orderManagement.order.workTimes "),e.k0s(),e.j41(33,"th",44),e.nrm(34,"i",34),e.EFF(35," orderManagement.order.services "),e.k0s(),e.nrm(36,"th",45),e.k0s())}function ft(a,l){1&a&&e.nrm(0,"span",52)}function bt(a,l){if(1&a&&(e.j41(0,"span",53),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI("",t.districtName," ")}}function vt(a,l){if(1&a){const t=e.RV6();e.j41(0,"tr",46)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.goEdit(n.id))}),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.DNE(13,ft,1,0,"span",48)(14,bt,2,1,"span",49),e.k0s(),e.j41(15,"td",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(52);return e.Njj(o.openModalClient(n.agentCode,r))}),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.EFF(20),e.k0s(),e.j41(21,"td"),e.EFF(22),e.nI1(23,"date"),e.k0s(),e.j41(24,"td"),e.EFF(25),e.k0s(),e.j41(26,"td"),e.EFF(27),e.k0s(),e.j41(28,"td")(29,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(54);return e.Njj(o.openModalTitleS(n,r,"lg"))}),e.nrm(30,"i",51),e.k0s()()()}if(2&a){const t=l.$implicit,i=l.rowIndex;e.R7$(2),e.JRh(i+1),e.R7$(2),e.SpI("#SO#",t.orderCode,""),e.R7$(2),e.JRh(e.i5U(7,13,t.createdDate,"yyyy-MM-dd")),e.R7$(3),e.JRh(t.creationUser),e.R7$(2),e.JRh(t.cityName),e.R7$(2),e.Y8G("ngIf",null==t.districtName),e.R7$(),e.Y8G("ngIf",null!==t.districtName),e.R7$(2),e.SpI(" ",t.agentName,""),e.R7$(2),e.SpI(" ",t.channelName,""),e.R7$(2),e.SpI(" ",t.mobile,""),e.R7$(2),e.SpI(" ",e.i5U(23,16,t.visitDate,"yyyy-MM-dd"),""),e.R7$(3),e.SpI(" ",t.workTimes,""),e.R7$(2),e.SpI(" ",t.services,"")}}function Ct(a,l){1&a&&(e.j41(0,"div",54),e.EFF(1," general.table.noData"),e.k0s())}function Rt(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",55)(1,"div",56),e.nrm(2,"ngb-pagination-info",57),e.j41(3,"table-length",58),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",59)(5,"ngb-pagination",60),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function jt(a,l){if(1&a){const t=e.RV6();e.j41(0,"delete-modal",61),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}function wt(a,l){if(1&a&&e.nrm(0,"client-profile-main",62),2&a){const t=e.XpG();e.Y8G("clientIdInput",t.clientSelected)}}function It(a,l){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"input",84),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG().$implicit,r=e.XpG(2);return e.DH7(r.form.clientReviewAnswers[o.id],n)||(r.form.clientReviewAnswers[o.id]=n),e.Njj(n)}),e.k0s(),e.bVm()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.FS9("name","answer_"+t.id),e.R50("ngModel",i.form.clientReviewAnswers[t.id])}}function Ft(a,l){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"p-rating",85),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG().$implicit,r=e.XpG(2);return e.DH7(r.form.clientReviewAnswers[o.id],n)||(r.form.clientReviewAnswers[o.id]=n),e.Njj(n)}),e.k0s(),e.bVm()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.FS9("name","answer_"+t.id),e.R50("ngModel",i.form.clientReviewAnswers[t.id]),e.Y8G("stars",t.point)("cancel",!1)("disabled",!1)("readonly",!1)}}function yt(a,l){if(1&a&&(e.qex(0),e.j41(1,"div",74)(2,"label",82),e.EFF(3),e.k0s(),e.DNE(4,It,2,2,"ng-container",83)(5,Ft,2,6,"ng-container",83),e.k0s(),e.bVm()),2&a){const t=l.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(),e.Y8G("ngIf","text"===t.answerType),e.R7$(),e.Y8G("ngIf","star"===t.answerType)}}function xt(a,l){1&a&&(e.j41(0,"div",86),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Tt(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",63)(1,"div",64)(2,"h4",65)(3,"span",66),e.EFF(4),e.k0s(),e.j41(5,"span",67),e.EFF(6),e.k0s(),e.j41(7,"span",68),e.EFF(8),e.k0s()(),e.j41(9,"button",69),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(10,"div",70),e.nrm(11,"ngx-ui-loader",24),e.j41(12,"form",71,4),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.j41(14,"div",7)(15,"div",72),e.DNE(16,yt,6,3,"ng-container",73),e.j41(17,"div",74)(18,"label",75),e.EFF(19,"crm.clientReview.note"),e.k0s(),e.j41(20,"input",76,5),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.notes,n)||(o.form.notes=n),e.Njj(n)}),e.k0s(),e.DNE(22,xt,2,0,"div",77),e.k0s()()(),e.j41(23,"div",78)(24,"button",79),e.nrm(25,"i",80)(26,"span",81),e.k0s()()()()()}if(2&a){const t=e.sdS(13),i=e.sdS(21),n=e.XpG();e.R7$(4),e.JRh(n.titleOperation),e.R7$(2),e.JRh(n.form.agentName),e.R7$(2),e.JRh(n.form.orderId),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderOperationShap)("loaderId",n.operationLoader),e.R7$(5),e.Y8G("ngForOf",n.questions),e.R7$(4),e.R50("ngModel",n.form.notes),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(2),e.Y8G("disabled",!t.valid)}}let St=(()=>{class a extends F.w{constructor(t,i,n,o,r,s,g,C,I,$,Fi,yi,xi,Ti){super(t,i,g,n,o,r,s),this.baseService=n,this.authDaamService=C,this.cityService=I,this.districtService=$,this.channelService=Fi,this.excelService=yi,this.clientReviewService=xi,this.router=Ti,this.title="crm.serviceAfterSale.title",this.titleOperation="crm.serviceAfterSale.addReview",this.searchForm={},this.clientSelected=0,this.cities=[],this.districts=[],this.channels=[],this.questions=[],this.clients=[],this.types=[],this.configRoute(),this.GetCities(),this.GetChannels(),this.clientReviewLookUp()}openModalTitleS(t,i,n="md"){this.form={clientId:t.agentCode,orderId:t.orderCode,agentName:t.agentName,clientReviewAnswers:[]},this.modalService.open(i,{centered:!0,size:n})}clientReviewLookUp(){this.clientReviewService.ClientReviewLookUp().subscribe(t=>{this.clients=t.data.clients,this.types=t.data.types,this.questions=t.data.questions},t=>{console.log(t)})}GetCities(){this.cityService.getDropDown().subscribe(t=>{this.cities=t.data},t=>{console.log(t)})}GetDistricts(t){this.districtService.getByCityId(t).subscribe(i=>{this.districts=i.data},i=>{console.log(i)})}GetChannels(){this.channelService.getDropDown().subscribe(t=>{this.channels=t.data},t=>{console.log(t)})}ngOnInitMore(){}mapForm(t){let i={...t},n=[];return n=Object.entries(i.clientReviewAnswers).map(([o,r])=>({reviewQuestionId:Number(o),ClientReviewId:i.id,value:""+r})),i.clientReviewAnswers=n,i}onUpdateIsActive(t){this.baseService.updateActive(t).pipe((0,u.Q)(this.notifier)).subscribe(i=>{i?this.alertService.success():this.alertService.error("general.message."+i)},i=>{this.alertService.error()})}mapRegisterForm(t){let i={...t},n=[];return n=Object.entries(i.clientReviewAnswers).map(([o,r])=>({reviewQuestionId:Number(o),ClientReviewId:i.id,value:""+r})),i.clientReviewAnswers=n,i.isCalc=!0,i}OnSearch(t){this.ngxLoader.startLoader(h.a7),this.loadentities()}onSearch(){this.ngxLoader.startLoader(h.a7);var t=this.searchForm.dates;t+void 0&&"to"in t?(this.pagination.visitDateFrom=this.datePipe.transform(t.from,"yyyy-MM-ddT00:00:00.000"),this.pagination.visitDateTo=this.datePipe.transform(t.to,"yyyy-MM-ddT23:59:59.999"),this.loadentities()):(this.pagination.visitDateFrom=null,this.pagination.visitDateTo=null),(t=this.searchForm.finishedDates)+void 0&&"to"in t?(this.pagination.finishedDateFrom=this.datePipe.transform(t.from,"yyyy-MM-ddT00:00:00.000"),this.pagination.finishedDateTo=this.datePipe.transform(t.to,"yyyy-MM-ddT23:59:59.999"),this.loadentities()):(this.pagination.finishedDateFrom=null,this.pagination.finishedDateTo=null),this.loadentities()}configRoute(){this.routerActive.data.pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.entities=t.data.data,this.pagination.totalItems=t.data.totalItems},()=>{this.alertService.error()})}mapExcel(){let t=[];return this.entities.forEach(i=>{t.push({orderCode:i.orderCode,visitDate:i.visitDate,notes:i.notes,createdDate:i.createdDate,assignDate:i.assignDate,finishDate:i.finishDate,districtName:i.districtName,cityName:i.cityName,agentName:i.agentName,mobile:i.mobile,email:i.email,creationUser:i.creationUser,channelName:i.channelName,teamNames:i.teamNames,services:i.services,workTimes:i.workTimes,paymentTypeName:i.paymentTypeName,finishUser:i.finishUser,isCancel:i.isCancel,isReopen:i.isReopen,isFree:i.isFree,isFinish:i.isFinish})}),t}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,"User",[])}goRegister(){this.router.navigateByUrl("/managment/order/new")}goEdit(t){this.router.navigateByUrl("/managment/order/new")}getStatus(t){return t.isCancel?"bg-warning-subtle text-warning":t.isFinish?"bg-success-subtle text-success":t.isUrgent?"bg-danger-subtle text-danger":t.isReopen||t.isFree?"bg-warning-subtle text-warning":"bg-success-subtle text-success"}getTrnslate(t){return t.isCancel?"orderManagement.order.cancel":t.isFinish?"orderManagement.order.finish":t.isUrgent?"bg-danger-subtle text-danger":t.isReopen?"orderManagement.order.reopen":t.isFree?"orderManagement.order.free":"orderManagement.order.finished"}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.ngxLoader.startLoader(h.a7),this.pagination.filterForLastTwoDays=!0,this.baseService.get(this.pagination).pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.ngxLoader.stopLoader(h.a7),this.entities=t.data,this.pagination.totalItems=t.totalItems,this.LoadSuccess()},t=>{this.ngxLoader.stopLoader(h.a7),this.alertService.error(t)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}openModalClient(t,i,n="xl"){this.clientSelected=t,this.modalService.open(i,{centered:!0,size:n})}oncityChange(t){this.GetDistricts(t.code)}onReset(){this.form={},this.searchForm={},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}registerEntity(){let t=this.mapRegisterForm(this.form);this.clientReviewService.register(t).pipe((0,k.O)(),(0,E.c)(this.mainDelay),(0,N.Z)(),(0,u.Q)(this.notifier),(0,G.j)(()=>this.ngxLoader.stopLoader(this.operationLoader)),(0,P.W)(i=>(0,te.$)(i))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(Oe.Q),e.rXU(R.u),e.rXU(p.vh),e.rXU(b.eD),e.rXU(m.Bq),e.rXU(He.J),e.rXU(Qe.h),e.rXU(ze.m),e.rXU(Pe.l),e.rXU(y.V),e.rXU(B),e.rXU(f.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-serviceAfterSale"]],features:[e.Vt3],decls:55,vars:58,consts:[["tableMaster",""],["deleteModal",""],["clientProfile",""],["operation",""],["formEntity","ngForm"],["notes","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showAdd","totalItems","title"],["control",""],[1,"col-12","col-md-2","mb-2"],[1,"search-box"],["InputTirmFilter","","type","number","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],["InputTirmFilter","","type","search","id","agentName","name","agentName",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],["name","name","bindValue","code","bindLabel","name",3,"ngModelChange","placeholder","items","multiple","ngModel"],["name","name","bindValue","code","bindLabel","name",3,"change","ngModelChange","placeholder","items","multiple","ngModel"],["name","employeeCode","bindValue","id","bindLabel","name",3,"ngModelChange","placeholder","items","multiple","ngModel"],[1,"col-12","col-md-4","mb-2"],["type","text","mwlFlatpickr","","id","dates","name","dates","mode","range",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","altInput","convertModelValue","placeholder","ngModel"],["type","text","mwlFlatpickr","","id","finishedDates","name","finishedDates","mode","range",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","altInput","convertModelValue","placeholder","ngModel"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive","mt-4"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","orderCode","translate","",2,"width","6%"],[1,"ri-expand-up-down-line"],["pSortableColumn","createdDate","translate","",2,"width","12%"],["pSortableColumn","creationUser","translate","",2,"width","10%"],["pSortableColumn","cityId","translate","",2,"width","8%"],["pSortableColumn","districtName","translate","",2,"width","8%"],["pSortableColumn","agentName","translate","",2,"width","5%"],["pSortableColumn","channelName","translate","",2,"width","10%"],["pSortableColumn","mobile","translate","",2,"width","10%"],["pSortableColumn","visitDate","translate","",2,"width","10%"],["pSortableColumn","workTimes","translate","",2,"width","10%"],["pSortableColumn","services","translate","",2,"width","10%"],["translate","",2,"width","10%"],[1,"fs-5"],[3,"click"],["class","badge bg-danger-subtle text-danger","translate","orderManagement.order.nothing",4,"ngIf"],["class","badge bg-success-subtle text-success",4,"ngIf"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-phone-line","fs-16"],["translate","orderManagement.order.nothing",1,"badge","bg-danger-subtle","text-danger"],[1,"badge","bg-success-subtle","text-success"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[3,"deleteConfirm","dismiss"],[3,"clientIdInput"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["translate",""],[1,"badge","bg-success-subtle","text-success","mx-2"],[1,"badge","bg-danger-subtle","text-danger"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mb-3"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],[1,"fw-bold","form-label","w-100"],[4,"ngIf"],["type","text",1,"form-control","fs-6",3,"ngModelChange","name","ngModel"],[3,"ngModelChange","name","ngModel","stars","cancel","disabled","readonly"],["translate","",1,"text-danger","text-center"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7)(3,"div",8)(4,"div",9)(5,"base-filter",10),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){return e.eBV(o),e.Njj(n.goRegister())}),e.qex(6,11),e.j41(7,"div",12)(8,"div",13)(9,"input",14),e.nI1(10,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.orderCode,s)||(n.pagination.orderCode=s),e.Njj(s)}),e.k0s(),e.nrm(11,"i",15),e.k0s()(),e.j41(12,"div",12)(13,"div",13)(14,"input",16),e.nI1(15,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.agentName,s)||(n.pagination.agentName=s),e.Njj(s)}),e.k0s(),e.nrm(16,"i",15),e.k0s()(),e.j41(17,"div",12)(18,"div",13)(19,"input",14),e.nI1(20,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.mobile,s)||(n.pagination.mobile=s),e.Njj(s)}),e.k0s(),e.nrm(21,"i",15),e.k0s()(),e.j41(22,"div",12)(23,"div",13)(24,"ng-select",17),e.nI1(25,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.channelCode,s)||(n.pagination.channelCode=s),e.Njj(s)}),e.k0s()()(),e.j41(26,"div",12)(27,"div",13)(28,"ng-select",18),e.nI1(29,"translate"),e.bIt("change",function(s){return e.eBV(o),e.Njj(n.oncityChange(s))}),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.cityCode,s)||(n.pagination.cityCode=s),e.Njj(s)}),e.k0s()()(),e.j41(30,"div",12)(31,"div",13)(32,"ng-select",19),e.nI1(33,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.districtName,s)||(n.pagination.districtName=s),e.Njj(s)}),e.k0s()()(),e.j41(34,"div",20)(35,"input",21),e.nI1(36,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.searchForm.dates,s)||(n.searchForm.dates=s),e.Njj(s)}),e.k0s()(),e.j41(37,"div",20)(38,"input",22),e.nI1(39,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.searchForm.finishedDates,s)||(n.searchForm.finishedDates=s),e.Njj(s)}),e.k0s()(),e.bVm(),e.k0s(),e.j41(40,"div",23),e.nrm(41,"ngx-ui-loader",24),e.j41(42,"div",25)(43,"p-table",26,0),e.bIt("onLazyLoad",function(s){return e.eBV(o),e.Njj(n.tableChange(s))})("selectionChange",function(s){return e.eBV(o),e.Njj(n.onSelectionChange(s))}),e.DNE(45,ht,37,0,"ng-template",27)(46,vt,31,19,"ng-template",28),e.k0s()(),e.DNE(47,Ct,2,0,"div",29)(48,Rt,6,8,"div",30),e.k0s()()()(),e.DNE(49,jt,1,0,"ng-template",null,1,e.C5r)(51,wt,1,1,"ng-template",null,2,e.C5r)(53,Tt,27,10,"ng-template",null,3,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,40,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("showAdd",!1)("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,42,"orderManagement.order.orderCode")),e.R50("ngModel",n.pagination.orderCode),e.R7$(5),e.FS9("placeholder",e.bMT(15,44,"orderManagement.order.agentName")),e.R50("ngModel",n.pagination.agentName),e.R7$(5),e.FS9("placeholder",e.bMT(20,46,"orderManagement.order.mobile")),e.R50("ngModel",n.pagination.mobile),e.R7$(5),e.FS9("placeholder",e.bMT(25,48,"orderManagement.order.channelName")),e.Y8G("items",n.channels)("multiple",!1),e.R50("ngModel",n.pagination.channelCode),e.R7$(4),e.FS9("placeholder",e.bMT(29,50,"orderManagement.order.cityName")),e.Y8G("items",n.cities)("multiple",!1),e.R50("ngModel",n.pagination.cityCode),e.R7$(4),e.FS9("placeholder",e.bMT(33,52,"orderManagement.order.districtName")),e.Y8G("items",n.districts)("multiple",!1),e.R50("ngModel",n.pagination.districtName),e.R7$(3),e.FS9("placeholder",e.bMT(36,54,"orderManagement.order.visitDate")),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",n.searchForm.dates),e.R7$(3),e.FS9("placeholder",e.bMT(39,56,"orderManagement.order.finishedDate")),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",n.searchForm.finishedDates),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[p.Sq,p.bT,d.qT,d.me,d.Q0,d.BC,d.cb,d.vS,d.cV,m.s5,Y.kL,X.m,x.g,T.p,A.w,S.b,J.t,w.m,_.Mm,v.XI,j.Ei,v.Tg,b.Cv,M.vr,Q,p.vh,_.D9],encapsulation:2})}}return a})();const Mt=()=>[];function kt(a,l){1&a&&(e.j41(0,"tr",32)(1,"th",33),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",34),e.nrm(4,"i",35),e.EFF(5," crm.clientReview.clientName "),e.k0s(),e.j41(6,"th",36),e.nrm(7,"i",35),e.EFF(8," crm.clientReview.orderId "),e.k0s(),e.j41(9,"th",37),e.nrm(10,"i",35),e.EFF(11," crm.clientReview.clientReviewFinalResultNameAr "),e.k0s(),e.j41(12,"th",38),e.nrm(13,"i",35),e.EFF(14," general.table.creationTime "),e.k0s(),e.j41(15,"th",39),e.EFF(16," crm.clientReview.note "),e.k0s(),e.nrm(17,"th",39),e.k0s())}function Et(a,l){if(1&a&&(e.nrm(0,"i",55),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",56),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",57),e.EFF(9)),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName," ")}}function Nt(a,l){if(1&a){const t=e.RV6();e.j41(0,"tr",40)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(37);return e.Njj(o.openModalClient(n.agentCode,r))}),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",42),e.EFF(9),e.k0s()(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.DNE(16,Et,10,9,"ng-template",null,4,e.C5r),e.j41(18,"span",43)(19,"div",44),e.nrm(20,"i",45),e.j41(21,"button",46),e.nrm(22,"i",47),e.k0s(),e.j41(23,"ul",48)(24,"li",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(33);return e.Njj(o.EditModel(n.id,r,"xl"))}),e.j41(25,"span",49),e.nrm(26,"i",50)(27,"span",51),e.k0s()(),e.j41(28,"li",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(35);return e.Njj(o.openModal(n.id,r))}),e.j41(29,"a",52),e.nrm(30,"i",53)(31,"span",54),e.k0s()()()()()()()}if(2&a){const t=l.$implicit,i=l.rowIndex,n=e.sdS(17);e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(t.clientName),e.R7$(2),e.SpI("#SO#",t.orderId,""),e.R7$(2),e.xc7("background-color",t.clientReviewFinalResultColor),e.R7$(),e.JRh(t.clientReviewFinalResultNameAr),e.R7$(2),e.JRh(e.i5U(12,9,t.creationTime,"yyyy-MM-dd HH:mm:ss")),e.R7$(3),e.JRh(t.notes),e.R7$(6),e.Y8G("ngbTooltip",n)}}function Gt(a,l){1&a&&(e.j41(0,"div",58),e.EFF(1," general.table.noData"),e.k0s())}function Vt(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",59)(1,"div",60),e.nrm(2,"ngb-pagination-info",61),e.j41(3,"table-length",62),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",63)(5,"ngb-pagination",64),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Dt(a,l){1&a&&(e.j41(0,"span",88),e.EFF(1,"general.action.register "),e.k0s())}function Lt(a,l){1&a&&(e.j41(0,"span",88),e.EFF(1,"general.action.edit "),e.k0s())}function At(a,l){1&a&&(e.j41(0,"div",89),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Xt(a,l){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"input",92),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG().$implicit,r=e.XpG(2);return e.DH7(r.form.clientReviewAnswers[o.id],n)||(r.form.clientReviewAnswers[o.id]=n),e.Njj(n)}),e.k0s(),e.bVm()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.FS9("name","answer_"+t.id),e.R50("ngModel",i.form.clientReviewAnswers[t.id])}}function Bt(a,l){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"p-rating",93),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG().$implicit,r=e.XpG(2);return e.DH7(r.form.clientReviewAnswers[o.id],n)||(r.form.clientReviewAnswers[o.id]=n),e.Njj(n)}),e.k0s(),e.bVm()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.FS9("name","answer_"+t.id),e.R50("ngModel",i.form.clientReviewAnswers[t.id]),e.Y8G("stars",t.point)("cancel",!1)("disabled",!1)("readonly",!1)}}function $t(a,l){if(1&a&&(e.qex(0),e.j41(1,"div",74)(2,"label",90),e.EFF(3),e.k0s(),e.DNE(4,Xt,2,2,"ng-container",91)(5,Bt,2,6,"ng-container",91),e.k0s(),e.bVm()),2&a){const t=l.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(),e.Y8G("ngIf","text"===t.answerType),e.R7$(),e.Y8G("ngIf","star"===t.answerType)}}function Yt(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",65)(1,"div",66)(2,"h4",67),e.DNE(3,Dt,2,0,"span",68)(4,Lt,2,0,"span",68),e.j41(5,"span",69),e.EFF(6),e.k0s()(),e.j41(7,"button",70),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",71),e.nrm(9,"ngx-ui-loader",25),e.j41(10,"form",72,5),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.j41(12,"div",9)(13,"div",73)(14,"div",74)(15,"label",75),e.EFF(16,"crm.clientReview.clientName"),e.k0s(),e.j41(17,"ng-select",76),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.clientId,n)||(o.form.clientId=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",74)(19,"label",75),e.EFF(20,"crm.clientReview.clientReviewFinalResultNameAr"),e.k0s(),e.j41(21,"ng-select",77),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.clientReviewFinalResultId,n)||(o.form.clientReviewFinalResultId=n),e.Njj(n)}),e.k0s()(),e.j41(22,"div",74)(23,"label",78),e.EFF(24,"crm.clientReview.orderId"),e.k0s(),e.j41(25,"input",79,6),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.orderId,n)||(o.form.orderId=n),e.Njj(n)}),e.k0s()(),e.j41(27,"div",74)(28,"label",80),e.EFF(29,"crm.clientReview.note"),e.k0s(),e.j41(30,"input",81,7),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.notes,n)||(o.form.notes=n),e.Njj(n)}),e.k0s(),e.DNE(32,At,2,0,"div",82),e.k0s()(),e.j41(33,"div",73),e.DNE(34,$t,6,3,"ng-container",83),e.k0s()(),e.j41(35,"div",84)(36,"button",85),e.nrm(37,"i",86)(38,"span",87),e.k0s()()()()()}if(2&a){const t=e.sdS(11),i=e.sdS(31),n=e.XpG();e.R7$(3),e.Y8G("ngIf",!n.isEditForm),e.R7$(),e.Y8G("ngIf",n.isEditForm),e.R7$(2),e.JRh(n.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderOperationShap)("loaderId",n.operationLoader),e.R7$(8),e.Y8G("items",n.clients)("multiple",!1),e.R50("ngModel",n.form.clientId),e.R7$(4),e.Y8G("items",n.types)("multiple",!1),e.R50("ngModel",n.form.clientReviewFinalResultId),e.R7$(4),e.R50("ngModel",n.form.orderId),e.R7$(5),e.R50("ngModel",n.form.notes),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(2),e.Y8G("ngForOf",n.questions),e.R7$(2),e.Y8G("disabled",!t.valid)}}function Ut(a,l){if(1&a){const t=e.RV6();e.j41(0,"delete-modal",94),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}function Ot(a,l){1&a&&e.nrm(0,"client-profile-main")}let Ht=(()=>{class a extends F.w{constructor(t,i,n,o,r,s,g,C){super(t,i,g,n,o,r,s),this.baseService=n,this.excelService=C,this.title="crm.clientReview.title",this.titleOperation="crm.clientReview.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.types=[],this.isResolveList=!0,this.clientSelected=0,this.questions=[],this.clients=[],this.searchForm={dates:{from:null,to:null}},this.configRoute()}ngOnInitMore(){this.clientReviewLookUp(),this.breadCrumbItems=[{label:"layout.sidebar.crm"},{label:this.title,active:!0}]}openModalTitle(t,i="md"){this.isEditForm=!1,this.form={clientReviewAnswers:[]},this.modalService.open(t,{centered:!0,size:i})}openModal(t,i,n="md"){this.isEditForm=!1,this.form={clientReviewAnswers:[]},this.selectedRow=[{id:t}],this.modalService.open(i,{centered:!0,size:n})}mapForm(t){let i={...t},n=[];return n=Object.entries(i.clientReviewAnswers).map(([o,r])=>({reviewQuestionId:Number(o),ClientReviewId:i.id,value:""+r})),i.clientReviewAnswers=n,i}onUpdateIsActive(t){this.baseService.updateActive(t).pipe((0,u.Q)(this.notifier)).subscribe(i=>{i?this.alertService.success():this.alertService.error("general.message."+i)},i=>{this.alertService.error()})}mapRegisterForm(t){let i={...t};i.id=0;let n=[];return n=Object.entries(i.clientReviewAnswers).map(([o,r])=>({reviewQuestionId:Number(o),clientReviewId:0,value:""+r})),i.clientReviewAnswers=n,i}clientReviewLookUp(){this.baseService.ClientReviewLookUp().subscribe(t=>{this.clients=t.data.clients,this.types=t.data.types,this.questions=t.data.questions},t=>{console.log(t)})}dateChange(t){var i=t.target.value;if(i.includes("to")){var n=i.split("to").map(o=>o.trim());this.pagination.dateFrom=n[0]+"T00:00:00.000",this.pagination.dateTo=n[1]+"T23:59:59.999",this.loadentities()}else this.pagination.dateFrom=null,this.pagination.dateTo=null,this.loadentities()}configRoute(){this.routerActive.data.pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.entities=t.data.data,this.pagination.totalItems=t.data.totalItems},()=>{this.alertService.error()})}mapExcel(){let t=[];return this.entities?.forEach(i=>{t.push({nameAr:i.nameAr,nameEn:i.nameEn,isActive:this.getTranslationText("general.table.active"),notes:i.notes})}),t}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,this.getTranslationText(this.title),[])}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.filter(),this.loadentities()}openModalClient(t,i,n="xl"){this.clientSelected=t,this.modalService.open(i,{centered:!0,size:n})}filter(){var t=this.searchForm.dates;t+void 0&&"to"in t?(this.pagination.dateFrom=this.datePipe.transform(t.from,"yyyy-MM-ddT00:00:00.000"),this.pagination.dateTo=this.datePipe.transform(t.to,"yyyy-MM-ddT23:59:59.999")):(this.pagination.dateFrom=null,this.pagination.dateTo=null)}onReset(){this.form={},this.searchForm={dates:{from:null,to:null}},this.pagination={pageSize:10,pageNumber:1,totalItems:this.pagination.totalItems}}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(B),e.rXU(R.u),e.rXU(p.vh),e.rXU(b.eD),e.rXU(m.Bq),e.rXU(y.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-clientReview"]],features:[e.Vt3],decls:38,vars:37,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["clientProfile",""],["tooltipContent",""],["formEntity","ngForm"],["orderId","ngModel"],["notes","ngModel"],[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-2","mb-2"],["type","search","id","orderId","name","orderId",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"col-12","col-md-3"],["type","text","mwlFlatpickr","","id","dates","name","dates","mode","range",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","altInput","convertModelValue","placeholder","ngModel"],[1,"col-12","col-md-2","mb-2"],["name","name","bindValue","code","bindLabel","name",3,"ngModelChange","placeholder","items","multiple","ngModel"],[1,"card-body"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","clientName","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","orderId","translate","",2,"width","10%"],["pSortableColumn","clientReviewFinalResultId","translate","",2,"width","10%"],["pSortableColumn","creationTime","translate","",2,"width","10%"],["translate","",2,"width","10%"],[1,"fs-5"],[3,"click"],[1,"badge","color-crm"],[1,"d-inline"],["ngbDropdown","",1,"dropdown"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","d-inline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],["translate","general.action.edit"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#removeItemModal",1,"dropdown-item"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],["translate","general.action.delete"],[1,"ri-time-fill","text-warning"],[1,"ri-time-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"col-md-6","col-12"],[1,"mb-3"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","clientId","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","clientReviewFinalResultId","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["for","orderId","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","orderId","type","text","id","orderId",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[1,"fw-bold","form-label","w-100"],[4,"ngIf"],["type","text",1,"form-control","fs-6",3,"ngModelChange","name","ngModel"],[3,"ngModelChange","name","ngModel","stars","cancel","disabled","readonly"],[3,"deleteConfirm","dismiss"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-breadcrumbs",8),e.nI1(1,"translate"),e.j41(2,"div",9)(3,"div",10)(4,"div",11)(5,"base-filter",12),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(o);const s=e.sdS(33);return e.Njj(n.openModalTitle(s,"xl"))}),e.qex(6,13),e.j41(7,"div",14)(8,"div",15)(9,"input",16),e.nI1(10,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.filterValue,s)||(n.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(11,"i",17),e.k0s()(),e.j41(12,"div",18)(13,"div",15)(14,"input",19),e.nI1(15,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.orderId,s)||(n.pagination.orderId=s),e.Njj(s)}),e.k0s()()(),e.j41(16,"div",20)(17,"input",21),e.nI1(18,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.searchForm.dates,s)||(n.searchForm.dates=s),e.Njj(s)}),e.k0s()(),e.j41(19,"div",22)(20,"div",15)(21,"ng-select",23),e.nI1(22,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.type,s)||(n.pagination.type=s),e.Njj(s)}),e.k0s()()(),e.bVm(),e.k0s(),e.j41(23,"div",24),e.nrm(24,"ngx-ui-loader",25),e.j41(25,"div",26)(26,"p-table",27,0),e.bIt("onLazyLoad",function(s){return e.eBV(o),e.Njj(n.tableChange(s))})("selectionChange",function(s){return e.eBV(o),e.Njj(n.onSelectionChange(s))}),e.DNE(28,kt,18,0,"ng-template",28)(29,Nt,32,12,"ng-template",29),e.k0s()(),e.DNE(30,Gt,2,0,"div",30)(31,Vt,6,8,"div",31),e.k0s()()()(),e.DNE(32,Yt,39,17,"ng-template",null,1,e.C5r)(34,Ut,1,0,"ng-template",null,2,e.C5r)(36,Ot,1,0,"ng-template",null,3,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,26,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("addPermission",e.lJ4(36,Mt))("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(4),e.FS9("placeholder",e.bMT(10,28,"task.tasklist.subject")),e.R50("ngModel",n.pagination.filterValue),e.R7$(5),e.FS9("placeholder",e.bMT(15,30,"crm.clientReview.orderId")),e.R50("ngModel",n.pagination.orderId),e.R7$(3),e.FS9("placeholder",e.bMT(18,32,"statistics.orderReview.dateReview")),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",n.searchForm.dates),e.R7$(4),e.FS9("placeholder",e.bMT(22,34,"crm.clientReview.clientReviewFinalResultNameAr")),e.Y8G("items",n.types)("multiple",!1),e.R50("ngModel",n.pagination.type),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[p.Sq,p.bT,d.qT,d.me,d.BC,d.cb,d.vS,d.cV,m.tg,m.do,m.U0,m.s5,Y.kL,X.m,x.g,T.p,A.w,S.b,J.t,w.m,_.Mm,v.XI,j.Ei,v.Tg,b.Cv,m.md,M.vr,Q,p.vh,_.D9],encapsulation:2})}}return a})(),Qt=(()=>{class a extends V.d{constructor(t){super(t,D.c.apiUrl+"ReviewQuestion/")}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(L.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),zt=(()=>{class a extends V.d{constructor(t){super(t,D.c.apiUrl+"ReviewAnswer/")}GetAnswerTypes(){return this.http.get(this.baseUrl+"GetAnswerTypes")}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(L.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Pt=()=>["permission.setupData.register"],Jt=()=>["permission.setupData.edit"],qt=()=>["permission.setupData.delete"];function Wt(a,l){1&a&&(e.j41(0,"tr",28)(1,"th",29),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",30),e.nrm(4,"i",31),e.EFF(5," general.table.nameAr "),e.k0s(),e.j41(6,"th",32),e.nrm(7,"i",31),e.EFF(8," crm.reviewQuestion.answerType "),e.k0s(),e.j41(9,"th",33),e.nrm(10,"i",31),e.EFF(11," general.table.isActive "),e.k0s(),e.nrm(12,"th",34),e.k0s())}function Kt(a,l){1&a&&e.nrm(0,"span",41)}function Zt(a,l){1&a&&e.nrm(0,"span",42)}function en(a,l){if(1&a&&(e.nrm(0,"i",43),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",44),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",45),e.EFF(9)),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.createdDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.updatedDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName," ")}}function tn(a,l){if(1&a){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),r=e.sdS(19);return e.Njj(o.EditModel(n.id,r))}),e.nrm(1,"i",47),e.k0s()}}function nn(a,l){if(1&a){const t=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),r=e.sdS(21);return e.Njj(o.openModal(n.id,r))}),e.nrm(1,"i",49),e.k0s()}}function an(a,l){if(1&a&&(e.j41(0,"tr",35)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"td"),e.DNE(9,Kt,1,0,"span",36)(10,Zt,1,0,"span",37),e.k0s(),e.j41(11,"td"),e.DNE(12,en,10,9,"ng-template",null,3,e.C5r),e.nrm(14,"i",38),e.DNE(15,tn,2,0,"button",39)(16,nn,2,0,"button",40),e.k0s()()),2&a){const t=l.$implicit,i=l.rowIndex,n=e.sdS(13);e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(t.nameAr),e.R7$(2),e.JRh(e.bMT(7,8,"crm.reviewAnswer."+t.answerTypeName)),e.R7$(3),e.Y8G("ngIf",t.isActive),e.R7$(),e.Y8G("ngIf",!t.isActive),e.R7$(4),e.Y8G("ngbTooltip",n),e.R7$(),e.Y8G("hasPermission",e.lJ4(10,Jt)),e.R7$(),e.Y8G("hasPermission",e.lJ4(11,qt))}}function on(a,l){1&a&&(e.j41(0,"div",50),e.EFF(1," general.table.noData"),e.k0s())}function sn(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",51)(1,"div",52),e.nrm(2,"ngb-pagination-info",53),e.j41(3,"table-length",54),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",55)(5,"ngb-pagination",56),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function rn(a,l){1&a&&(e.j41(0,"span",92),e.EFF(1,"general.action.register "),e.k0s())}function ln(a,l){1&a&&(e.j41(0,"span",92),e.EFF(1,"general.action.edit "),e.k0s())}function cn(a,l){1&a&&(e.j41(0,"div",93),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function dn(a,l){1&a&&(e.j41(0,"div",93),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function mn(a,l){1&a&&(e.j41(0,"div",93),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function pn(a,l){1&a&&(e.j41(0,"div",93),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function gn(a,l){1&a&&(e.j41(0,"div",93),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function _n(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",57)(1,"div",58)(2,"h4",59),e.DNE(3,rn,2,0,"span",60)(4,ln,2,0,"span",60),e.j41(5,"span",61),e.EFF(6),e.k0s()(),e.j41(7,"button",62),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",63),e.nrm(9,"ngx-ui-loader",64),e.j41(10,"form",65,4),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.j41(12,"div",12)(13,"div",66)(14,"label",67),e.EFF(15,"general.table.nameAr"),e.k0s(),e.j41(16,"input",68,5),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.nameAr,n)||(o.form.nameAr=n),e.Njj(n)}),e.k0s(),e.DNE(18,cn,2,0,"div",69),e.k0s(),e.j41(19,"div",66)(20,"label",70),e.EFF(21,"general.table.nameEn"),e.k0s(),e.j41(22,"input",71,6),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.nameEn,n)||(o.form.nameEn=n),e.Njj(n)}),e.k0s(),e.DNE(24,dn,2,0,"div",69),e.k0s(),e.j41(25,"div",72)(26,"label",73),e.EFF(27,"crm.reviewQuestion.sort"),e.k0s(),e.j41(28,"input",74,7),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.sort,n)||(o.form.sort=n),e.Njj(n)}),e.k0s(),e.DNE(30,mn,2,0,"div",69),e.k0s(),e.j41(31,"div",72)(32,"label",75),e.EFF(33,"crm.reviewAnswer.answerType"),e.k0s(),e.j41(34,"ng-select",76,8),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.answerType,n)||(o.form.answerType=n),e.Njj(n)}),e.k0s(),e.DNE(36,pn,2,0,"div",69),e.k0s(),e.j41(37,"div",66)(38,"label",77),e.EFF(39,"crm.reviewQuestion.items"),e.k0s(),e.j41(40,"input",78,9),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.items,n)||(o.form.items=n),e.Njj(n)}),e.k0s()(),e.j41(42,"div",66)(43,"label",79),e.EFF(44,"crm.reviewQuestion.point"),e.k0s(),e.j41(45,"input",80,10),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.point,n)||(o.form.point=n),e.Njj(n)}),e.k0s(),e.DNE(47,gn,2,0,"div",69),e.k0s(),e.j41(48,"div",66)(49,"label",81),e.EFF(50,"general.table.notes"),e.k0s(),e.j41(51,"input",82,11),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.notes,n)||(o.form.notes=n),e.Njj(n)}),e.k0s()(),e.j41(53,"div",83)(54,"label",84),e.EFF(55,"general.table.isActive"),e.k0s(),e.j41(56,"p-inputSwitch",85),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.isActive,n)||(o.form.isActive=n),e.Njj(n)}),e.k0s()(),e.j41(57,"div",83)(58,"label",86),e.EFF(59,"crm.reviewQuestion.isSendClient"),e.k0s(),e.j41(60,"p-inputSwitch",87),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.isSendClient,n)||(o.form.isSendClient=n),e.Njj(n)}),e.k0s()()(),e.j41(61,"div",88)(62,"button",89),e.nrm(63,"i",90)(64,"span",91),e.k0s()()()()()}if(2&a){const t=e.sdS(11),i=e.sdS(17),n=e.sdS(23),o=e.sdS(29),r=e.sdS(35),s=e.sdS(46),g=e.XpG();e.R7$(3),e.Y8G("ngIf",!g.isEditForm),e.R7$(),e.Y8G("ngIf",g.isEditForm),e.R7$(2),e.JRh(g.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",g.loaderOperationShap)("loaderId",g.operationLoader),e.R7$(7),e.R50("ngModel",g.form.nameAr),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(4),e.R50("ngModel",g.form.nameEn),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(4),e.R50("ngModel",g.form.sort),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.Y8G("items",g.answerTypes)("multiple",!1),e.R50("ngModel",g.form.answerType),e.R7$(2),e.Y8G("ngIf",r.invalid&&r.touched),e.R7$(4),e.R50("ngModel",g.form.items),e.R7$(5),e.R50("ngModel",g.form.point),e.R7$(2),e.Y8G("ngIf",s.invalid&&s.touched),e.R7$(4),e.R50("ngModel",g.form.notes),e.R7$(5),e.R50("ngModel",g.form.isActive),e.R7$(4),e.R50("ngModel",g.form.isSendClient),e.R7$(2),e.Y8G("disabled",!t.valid)}}function un(a,l){if(1&a){const t=e.RV6();e.j41(0,"delete-modal",94),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let re=(()=>{class a extends F.w{constructor(t,i,n,o,r,s,g,C,I,$){super(t,i,C,n,r,s,g),this.baseService=n,this.reviewAnswerService=o,this.excelService=$,this.title="crm.reviewQuestion.title",this.titleOperation="crm.reviewQuestion.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm={},this.isResolveList=!0,this.countLoad=2,this.answerTypes=[],this.configRoute(),this.getTypes()}getTypes(){this.reviewAnswerService.GetAnswerTypes().subscribe(t=>{this.answerTypes=t.data})}onUpdateIsActive(t){this.baseService.updateActive(t).pipe((0,u.Q)(this.notifier)).subscribe(i=>{i?this.alertService.success():this.alertService.error("general.message."+i)},i=>{this.alertService.error()})}ngOnInitMore(){}mapForm(t){return{...t}}mapRegisterForm(t){let i={...t};return i.id=0,i}OnSearch(t){this.ngxLoader.startLoader(h.a7),this.loadentities()}onSearch(){this.ngxLoader.startLoader(h.a7),this.loadentities()}configRoute(){}mapExcel(){let t=[];return this.entities?.forEach(i=>{t.push({nameAr:i.nameAr,nameEn:i.nameEn,isActive:this.getTranslationText("general.table.active"),notes:i.notes})}),t}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,this.getTranslationText(this.title),[])}editEntity(){let t=this.mapForm(this.form);this.baseService.editPut(t.id,t).pipe((0,k.O)(),(0,E.c)(this.mainDelay),(0,N.Z)(),(0,u.Q)(this.notifier),(0,G.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(Qt),e.rXU(zt),e.rXU(R.u),e.rXU(p.vh),e.rXU(b.eD),e.rXU(m.Bq),e.rXU(e.gRc),e.rXU(y.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["reviewQuestion"]],features:[e.Vt3],decls:22,vars:14,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameAr","ngModel"],["nameEn","ngModel"],["sort","ngModel"],["answerType","ngModel"],["items","ngModel"],["point","ngModel"],["notes","ngModel"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","nameAr","translate","",2,"width","30%"],[1,"ri-expand-up-down-line"],["pSortableColumn","answerType","translate","",2,"width","10%"],["pSortableColumn","isActive","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list",3,"click",4,"hasPermission"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-time-fill","text-warning"],[1,"ri-time-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],[1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"hasProgressBar","fgsType","loaderId"],[3,"submit"],[1,"col-12"],["for","nameAr","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","nameAr","type","text","id","nameAr","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameEn","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","nameEn","type","text","id","nameEn","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["for","sort","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","sort","type","text","id","sort","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","answerType","bindValue","id","bindLabel","name","required","",3,"ngModelChange","items","multiple","ngModel"],["for","items","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","items","type","text","id","items",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","point","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","point","type","number","id","point","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","form-check"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],["for","isSendClient","translate","",1,"fw-bold","form-label","w-100"],["name","isSendClient","inputId","isSendClient",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit","type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"base-filter",15),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(o);const s=e.sdS(19);return e.Njj(n.openModalTitle(s,"md"))}),e.qex(4,16),e.j41(5,"div",17)(6,"div",18)(7,"input",19),e.nI1(8,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.filterValue,s)||(n.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(9,"i",20),e.k0s()(),e.bVm(),e.k0s(),e.j41(10,"div",21)(11,"div",22)(12,"p-table",23,0),e.bIt("onLazyLoad",function(s){return e.eBV(o),e.Njj(n.tableChange(s))})("selectionChange",function(s){return e.eBV(o),e.Njj(n.onSelectionChange(s))}),e.DNE(14,Wt,13,0,"ng-template",24)(15,an,17,12,"ng-template",25),e.k0s()(),e.DNE(16,on,2,0,"div",26)(17,sn,6,8,"div",27),e.k0s()()()(),e.DNE(18,_n,65,23,"ng-template",null,1,e.C5r)(20,un,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.R7$(3),e.Y8G("addPermission",e.lJ4(13,Pt))("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(4),e.FS9("placeholder",e.bMT(8,11,"task.tasklist.subject")),e.R50("ngModel",n.pagination.filterValue),e.R7$(5),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[p.bT,d.qT,d.me,d.Q0,d.BC,d.cb,d.YS,d.vS,d.cV,m.s5,x.g,T.p,A.w,S.b,w.m,z.p,_.Mm,v.XI,j.Ei,v.Tg,U.HW,b.Cv,m.md,M.vr,p.vh,_.D9],encapsulation:2})}}return a})();var le=c(4626),hn=c(28203);const fn=()=>[];function bn(a,l){1&a&&(e.j41(0,"tr",37)(1,"th",38),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",39),e.nrm(4,"i",40),e.EFF(5," crm.clientReview.clientName "),e.k0s(),e.j41(6,"th",41),e.nrm(7,"i",40),e.EFF(8," crm.clientReview.orderId "),e.k0s(),e.j41(9,"th",42),e.nrm(10,"i",40),e.EFF(11," crm.clientReview.clientReviewFinalResultNameAr "),e.k0s(),e.j41(12,"th",43),e.nrm(13,"i",40),e.EFF(14," general.table.creationTime "),e.k0s(),e.j41(15,"th",44),e.EFF(16," crm.clientReview.note "),e.k0s(),e.nrm(17,"th",44),e.k0s())}function vn(a,l){if(1&a&&(e.nrm(0,"i",50),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",51),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",52),e.EFF(9)),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.creationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.lastModificationTime,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName," ")}}function Cn(a,l){if(1&a){const t=e.RV6();e.j41(0,"tr",45)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(44);return e.Njj(o.openModalClient(n.agentCode,r))}),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",47),e.EFF(9),e.k0s()(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.DNE(16,vn,10,9,"ng-template",null,3,e.C5r),e.j41(18,"button",48),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(),r=e.sdS(42);return e.Njj(o.EditModel(n,r,"lg"))}),e.nrm(19,"i",49),e.k0s()()()}if(2&a){const t=l.$implicit,i=l.rowIndex;e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(t.clientName),e.R7$(2),e.SpI("#SO#",t.orderId,""),e.R7$(2),e.xc7("background-color",t.clientReviewFinalResultColor),e.R7$(),e.JRh(t.clientReviewFinalResultNameAr),e.R7$(2),e.JRh(e.i5U(12,8,t.creationTime,"yyyy-MM-dd HH:mm:ss")),e.R7$(3),e.JRh(t.notes)}}function Rn(a,l){1&a&&(e.j41(0,"div",53),e.EFF(1," general.table.noData"),e.k0s())}function jn(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",54)(1,"div",55),e.nrm(2,"ngb-pagination-info",56),e.j41(3,"table-length",57),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",58)(5,"ngb-pagination",59),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function wn(a,l){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"input",79),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG().$implicit,r=e.XpG(2);return e.DH7(r.form.clientReviewAnswers[o.id],n)||(r.form.clientReviewAnswers[o.id]=n),e.Njj(n)}),e.k0s(),e.bVm()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.FS9("name","answer_"+t.id),e.R50("ngModel",i.form.clientReviewAnswers[t.id])}}function In(a,l){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"p-rating",80),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG().$implicit,r=e.XpG(2);return e.DH7(r.form.clientReviewAnswers[o.id],n)||(r.form.clientReviewAnswers[o.id]=n),e.Njj(n)}),e.k0s(),e.bVm()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.FS9("name","answer_"+t.id),e.R50("ngModel",i.form.clientReviewAnswers[t.id]),e.Y8G("stars",t.point)("cancel",!1)("disabled",!1)("readonly",!1)}}function Fn(a,l){if(1&a&&(e.qex(0),e.j41(1,"div",69)(2,"label",77),e.EFF(3),e.k0s(),e.DNE(4,wn,2,2,"ng-container",78)(5,In,2,6,"ng-container",78),e.k0s(),e.bVm()),2&a){const t=l.$implicit;e.R7$(3),e.JRh(t.name),e.R7$(),e.Y8G("ngIf","text"===t.answerType),e.R7$(),e.Y8G("ngIf","star"===t.answerType)}}function yn(a,l){1&a&&(e.j41(0,"div",81),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function xn(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"h4",20)(3,"span",62),e.EFF(4),e.k0s(),e.j41(5,"span",63),e.EFF(6),e.k0s(),e.j41(7,"span",64),e.EFF(8),e.k0s()(),e.j41(9,"button",65),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(10,"div",66),e.nrm(11,"ngx-ui-loader",30),e.j41(12,"form",67,4),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.j41(14,"div",17)(15,"div",18),e.DNE(16,Fn,6,3,"ng-container",68),e.j41(17,"div",69)(18,"label",70),e.EFF(19,"crm.clientReview.note"),e.k0s(),e.j41(20,"input",71,5),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.notes,n)||(o.form.notes=n),e.Njj(n)}),e.k0s(),e.DNE(22,yn,2,0,"div",72),e.k0s()()(),e.j41(23,"div",73)(24,"button",74),e.nrm(25,"i",75)(26,"span",76),e.k0s()()()()()}if(2&a){const t=e.sdS(13),i=e.sdS(21),n=e.XpG();e.R7$(4),e.JRh(n.titleOperation),e.R7$(2),e.JRh(n.form.clientName),e.R7$(2),e.JRh(n.form.orderId),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderOperationShap)("loaderId",n.operationLoader),e.R7$(5),e.Y8G("ngForOf",n.questions),e.R7$(4),e.R50("ngModel",n.form.notes),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(2),e.Y8G("disabled",!t.valid)}}function Tn(a,l){1&a&&e.nrm(0,"client-profile-main")}let Sn=(()=>{class a extends F.w{constructor(t,i,n,o,r,s,g,C){super(t,i,g,n,o,r,s),this.baseService=n,this.excelService=C,this.title="crm.reviewstatistics.title",this.teams=[],this.cities=[],this.searchForm={dates:{from:null,to:null}},this.titleOperation="crm.clientReview.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.isResolveList=!0,this.clientSelected=0,this.questions=[],this.clients=[],this.names=[],this.counts=[],this.types=[],this.typesF=[],this.configRoute(),this.setCurrentMonthRange()}configRoute(){this.routerActive.data.pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.names=t.data.data.names,this.counts=t.data.data.count,this.typesF=t.data.data.types,this.onSearch()},()=>{this.alertService.error()})}setCurrentMonthRange(){const t=new Date,i=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);this.searchForm.dates={from:i,to:n}}ngOnInitMore(){this.clientReviewLookUp(),this._columnWithDataChart('["--vz-success"]')}clientReviewLookUp(){this.baseService.ClientReviewLookUp().pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.clients=t.data.clients,this.types=t.data.types,this.questions=t.data.questions},t=>{console.log(t)})}_columnWithDataChart(t){t=this.getChartColorsArray(t),this.columnWithDataChart={series:[{name:"review",data:this.counts}],chart:{height:350,type:"bar",events:{dataPointSelection:(i,n,o)=>{const s=o.w.config.xaxis.categories[o.dataPointIndex];console.log("Clicked Value:",o.w.config.series[o.seriesIndex].data[o.dataPointIndex]),this.pagination.type=this.typesF.find(g=>g.nameAr==s||g.nameEn==s).id,this.onSearch()}},toolbar:{show:!0}},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(i){return i},offsetY:-20,style:{fontSize:"12px",colors:["#adb5bd"]}},colors:t,grid:{borderColor:"#f1f1f1"},xaxis:{categories:this.names,position:"top",labels:{rotate:-90},axisBorder:{show:!0},axisTicks:{show:!0},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[50,0,100,100]}},yaxis:{axisBorder:{show:!0},axisTicks:{show:!0},labels:{show:!0,formatter:function(i){return i}}},title:{text:"Reviews",floating:!0,offsetY:320,align:"center",style:{color:"#444",fontWeight:500}}}}getChartColorsArray(t){return(t=JSON.parse(t)).map(function(i){var n=i.replace(" ","");if(-1===n.indexOf(",")){var o=getComputedStyle(document.documentElement).getPropertyValue(n);return o?o=o.replace(" ",""):n}var r=i.split(",");if(2==r.length){var s=getComputedStyle(document.documentElement).getPropertyValue(r[0]);return"rgba("+s+","+r[1]+")"}return n})}openModalClient(t,i,n="xl"){this.clientSelected=t,this.modalService.open(i,{centered:!0,size:n})}onSearch(){this.ngxLoader.startLoader(this.searchLoader),this.filter(),this.loadentities()}onChartDateChange(){this.filter(),this.baseService.ClientReviewChartCount(this.pagination).pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.names=[...t.data.names],this.counts=[...t.data.count],this.typesF=[...t.data.types]}),this.columnWithDataChart.series=[{name:"review",data:this.counts}],this.columnWithDataChart.xaxis={...this.columnWithDataChart.xaxis,categories:this.names}}filter(){var t=this.searchForm.dates;t+void 0&&"to"in t?(this.pagination.dateFrom=this.datePipe.transform(t.from,"yyyy-MM-ddT00:00:00.000"),this.pagination.dateTo=this.datePipe.transform(t.to,"yyyy-MM-ddT23:59:59.999")):(this.pagination.dateFrom=null,this.pagination.dateTo=null)}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,this.getTranslationText(this.title),[])}mapExcel(){let t=[];return this.entities?.forEach(i=>{t.push({nameAr:i.nameAr,nameEn:i.nameEn,isActive:this.getTranslationText("general.table.active"),notes:i.notes})}),t}openModalTitleS(t,i,n="md"){this.form={clientId:t.agentCode,orderId:t.orderCode,agentName:t.agentName,clientReviewAnswers:[]},this.modalService.open(i,{centered:!0,size:n})}EditModel(t,i,n="md"){this.isEditForm=!0,this.baseService.getById(t.id).pipe((0,u.Q)(this.notifier)).subscribe(o=>{o.success?(this.form=o.data,this.form.clientName=t.clientName):this.alertService.error("general.message."+o.message),this.modalService.open(i,{centered:!0,size:n})},o=>{this.alertService.error()})}chartDateChange(){}loadentities(){this.countLoad=this.countLoad+1,(!this.isResolveList||1!==this.countLoad)&&(this.ngxLoader.startLoader(this.searchLoader),this.baseService.get(this.pagination).pipe((0,u.Q)(this.notifier)).subscribe(t=>{this.ngxLoader.stopLoader(this.searchLoader),this.entities=t.data,this.pagination.totalItems=t.totalItems,this.LoadSuccess()},t=>{this.ngxLoader.stopLoader(this.searchLoader),this.alertService.error(t)}),this.checkMore=this.checkOne=this.checkAll=!1,this.lengthSelect=0,this.selectedRow=[])}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(B),e.rXU(R.u),e.rXU(p.vh),e.rXU(b.eD),e.rXU(m.Bq),e.rXU(y.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-reviewstatistics"]],features:[e.Vt3],decls:45,vars:41,consts:[["tableMaster",""],["operation",""],["clientProfile",""],["tooltipContent",""],["formEntity","ngForm"],["notes","ngModel"],[3,"title","breadcrumbItems"],[1,"card"],[1,"card-body"],[1,"row","g-3"],[1,"col-12","col-md-6"],["type","text","mwlFlatpickr","","id","dates","name","dates","mode","range",1,"form-control","bg-light","border-light","flatpickr-input","active",3,"ngModelChange","altInput","convertModelValue","placeholder","ngModel"],[1,"col-md-auto","ms-auto"],[1,"d-flex","hastck","gap-2","flex-wrap"],[1,"btn","btn-success",3,"click"],[1,"ri-add-fill","align-bottom","me-1"],["translate","general.action.search"],[1,"row"],[1,"col-12"],[1,"card-header"],[1,"card-title","mb-0"],["dir","ltr",3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","fill","title","colors"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","showAdd","showSearch","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[3,"hasProgressBar","fgsType","loaderId"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","clientName","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","orderId","translate","",2,"width","10%"],["pSortableColumn","clientReviewFinalResultId","translate","",2,"width","10%"],["pSortableColumn","creationTime","translate","",2,"width","10%"],["translate","",2,"width","10%"],[1,"fs-5"],[3,"click"],[1,"badge","color-crm"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-eye-fill","fs-16"],[1,"ri-time-fill","text-warning"],[1,"ri-time-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],["translate",""],[1,"badge","bg-success-subtle","text-success","mx-2"],[1,"badge","bg-danger-subtle","text-danger"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[4,"ngFor","ngForOf"],[1,"mb-3"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],[1,"fw-bold","form-label","w-100"],[4,"ngIf"],["type","text",1,"form-control","fs-6",3,"ngModelChange","name","ngModel"],[3,"ngModelChange","name","ngModel","stars","cancel","disabled","readonly"],["translate","",1,"text-danger","text-center"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-breadcrumbs",6),e.nI1(1,"translate"),e.j41(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"input",11),e.nI1(7,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.searchForm.dates,s)||(n.searchForm.dates=s),e.Njj(s)}),e.k0s()(),e.j41(8,"div",12)(9,"div",13)(10,"button",14),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onChartDateChange())}),e.nrm(11,"i",15)(12,"span",16),e.k0s()()()()()(),e.j41(13,"div",17)(14,"div",18)(15,"div",7)(16,"div",19)(17,"h4",20),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"div",8),e.nrm(21,"apx-chart",21),e.k0s()()()(),e.j41(22,"div",17)(23,"div",22)(24,"div",23)(25,"base-filter",24),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(o);const s=e.sdS(42);return e.Njj(n.openModalTitle(s,"xl"))}),e.qex(26,25),e.j41(27,"div",26)(28,"div",27)(29,"input",28),e.nI1(30,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.filterValue,s)||(n.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(31,"i",29),e.k0s()(),e.bVm(),e.k0s(),e.j41(32,"div",8),e.nrm(33,"ngx-ui-loader",30),e.j41(34,"div",31)(35,"p-table",32,0),e.bIt("onLazyLoad",function(s){return e.eBV(o),e.Njj(n.tableChange(s))})("selectionChange",function(s){return e.eBV(o),e.Njj(n.onSelectionChange(s))}),e.DNE(37,bn,18,0,"ng-template",33)(38,Cn,20,11,"ng-template",34),e.k0s()(),e.DNE(39,Rn,2,0,"div",35)(40,jn,6,8,"div",36),e.k0s()()()(),e.DNE(41,xn,27,10,"ng-template",null,1,e.C5r)(43,Tn,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.FS9("title",e.bMT(1,32,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(6),e.FS9("placeholder",e.bMT(7,34,"statistics.orderReview.dateReview")),e.Y8G("altInput",!0)("convertModelValue",!0),e.R50("ngModel",n.searchForm.dates),e.R7$(12),e.JRh(e.bMT(19,36,n.title)),e.R7$(3),e.Y8G("series",n.columnWithDataChart.series)("chart",n.columnWithDataChart.chart)("dataLabels",n.columnWithDataChart.dataLabels)("plotOptions",n.columnWithDataChart.plotOptions)("yaxis",n.columnWithDataChart.yaxis)("xaxis",n.columnWithDataChart.xaxis)("fill",n.columnWithDataChart.fill)("title",n.columnWithDataChart.title)("colors",n.columnWithDataChart.colors),e.R7$(4),e.Y8G("showAdd",!1)("showSearch",!1)("addPermission",e.lJ4(40,fn))("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(4),e.FS9("placeholder",e.bMT(30,38,"task.tasklist.subject")),e.R50("ngModel",n.pagination.filterValue),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderSearchShap)("loaderId",n.searchLoader),e.R7$(2),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[p.Sq,p.bT,d.qT,d.me,d.BC,d.cb,d.vS,d.cV,m.s5,Y.kL,X.m,x.g,T.p,S.b,J.t,w.m,_.Mm,v.XI,j.Ei,v.Tg,b.Cv,le.Q,hn.ig,Q,p.vh,_.D9],encapsulation:2})}}return a})(),Mn=(()=>{class a extends V.d{constructor(t){super(t,D.c.apiUrl+"ClientReviewFinalResult/")}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(L.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const kn=()=>["permission.setupData.register"],En=()=>["permission.setupData.edit"],Nn=()=>["permission.setupData.delete"];function Gn(a,l){1&a&&(e.j41(0,"tr",27)(1,"th",28),e.EFF(2,"#"),e.k0s(),e.j41(3,"th",29),e.nrm(4,"i",30),e.EFF(5," general.table.nameAr "),e.k0s(),e.j41(6,"th",31),e.nrm(7,"i",30),e.EFF(8," general.table.nameEn "),e.k0s(),e.j41(9,"th",32),e.nrm(10,"i",30),e.EFF(11," crm.clientReviewFinalResult.scoreFrom "),e.k0s(),e.j41(12,"th",32),e.nrm(13,"i",30),e.EFF(14," crm.clientReviewFinalResult.scoreTo "),e.k0s(),e.j41(15,"th",33),e.nrm(16,"i",30),e.EFF(17," general.table.isActive "),e.k0s(),e.nrm(18,"th",34),e.k0s())}function Vn(a,l){1&a&&e.nrm(0,"span",41)}function Dn(a,l){1&a&&e.nrm(0,"span",42)}function Ln(a,l){if(1&a&&(e.nrm(0,"i",43),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"br")(4,"i",44),e.EFF(5),e.nI1(6,"date"),e.nrm(7,"br")(8,"i",45),e.EFF(9)),2&a){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,3,t.createdDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",e.i5U(6,6,t.updatedDate,"yyyy-MM-dd HH:mm:ss")," "),e.R7$(4),e.SpI(" ",t.creatorName," ")}}function An(a,l){if(1&a){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),r=e.sdS(19);return e.Njj(o.EditModel(n.id,r))}),e.nrm(1,"i",47),e.k0s()}}function Xn(a,l){if(1&a){const t=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(),r=e.sdS(21);return e.Njj(o.openModal(n.id,r))}),e.nrm(1,"i",49),e.k0s()}}function Bn(a,l){if(1&a&&(e.j41(0,"tr",35)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.DNE(12,Vn,1,0,"span",36)(13,Dn,1,0,"span",37),e.k0s(),e.j41(14,"td"),e.DNE(15,Ln,10,9,"ng-template",null,3,e.C5r),e.nrm(17,"i",38),e.DNE(18,An,2,0,"button",39)(19,Xn,2,0,"button",40),e.k0s()()),2&a){const t=l.$implicit,i=l.rowIndex,n=e.sdS(16);e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(t.nameAr),e.R7$(2),e.JRh(t.nameEn),e.R7$(2),e.JRh(t.scoreFrom),e.R7$(2),e.JRh(t.scoreTo),e.R7$(2),e.Y8G("ngIf",t.isActive),e.R7$(),e.Y8G("ngIf",!t.isActive),e.R7$(4),e.Y8G("ngbTooltip",n),e.R7$(),e.Y8G("hasPermission",e.lJ4(10,En)),e.R7$(),e.Y8G("hasPermission",e.lJ4(11,Nn))}}function $n(a,l){1&a&&(e.j41(0,"div",50),e.EFF(1," general.table.noData"),e.k0s())}function Yn(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",51)(1,"div",52),e.nrm(2,"ngb-pagination-info",53),e.j41(3,"table-length",54),e.bIt("lengthChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.ListItemChange(n))}),e.k0s()(),e.j41(4,"div",55)(5,"ngb-pagination",56),e.bIt("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChanged(n))}),e.mxI("pageChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.pagination.pageNumber,n)||(o.pagination.pageNumber=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("pagination",t.pagination),e.R7$(),e.Y8G("lengthTable",t.tableLengthSelect),e.R7$(2),e.Y8G("pageSize",t.pagination.pageSize)("collectionSize",t.pagination.totalItems),e.R50("page",t.pagination.pageNumber),e.Y8G("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}function Un(a,l){1&a&&(e.j41(0,"span",88),e.EFF(1,"general.action.register "),e.k0s())}function On(a,l){1&a&&(e.j41(0,"span",88),e.EFF(1,"general.action.edit "),e.k0s())}function Hn(a,l){1&a&&(e.j41(0,"div",89),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Qn(a,l){1&a&&(e.j41(0,"div",89),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function zn(a,l){1&a&&(e.j41(0,"div",89),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Pn(a,l){1&a&&(e.j41(0,"div",89),e.EFF(1," general.message.filedIdRequired"),e.k0s())}function Jn(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",57)(1,"div",58)(2,"h4",59),e.DNE(3,Un,2,0,"span",60)(4,On,2,0,"span",60),e.j41(5,"span",61),e.EFF(6),e.k0s()(),e.j41(7,"button",62),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(8,"div",63),e.nrm(9,"ngx-ui-loader",64),e.j41(10,"form",65,4),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.OnSubmit())}),e.j41(12,"div",11)(13,"div",66)(14,"label",67),e.EFF(15,"general.table.nameAr"),e.k0s(),e.j41(16,"input",68,5),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.nameAr,n)||(o.form.nameAr=n),e.Njj(n)}),e.k0s(),e.DNE(18,Hn,2,0,"div",69),e.k0s(),e.j41(19,"div",66)(20,"label",70),e.EFF(21,"general.table.nameEn"),e.k0s(),e.j41(22,"input",71,6),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.nameEn,n)||(o.form.nameEn=n),e.Njj(n)}),e.k0s(),e.DNE(24,Qn,2,0,"div",69),e.k0s(),e.j41(25,"div",72)(26,"label",73),e.EFF(27,"crm.clientReviewFinalResult.scoreFrom"),e.k0s(),e.j41(28,"input",74,7),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.scoreFrom,n)||(o.form.scoreFrom=n),e.Njj(n)}),e.k0s(),e.DNE(30,zn,2,0,"div",69),e.k0s(),e.j41(31,"div",72)(32,"label",75),e.EFF(33,"crm.clientReviewFinalResult.scoreTo"),e.k0s(),e.j41(34,"input",76,8),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.scoreTo,n)||(o.form.scoreTo=n),e.Njj(n)}),e.k0s(),e.DNE(36,Pn,2,0,"div",69),e.k0s(),e.j41(37,"div",66)(38,"label",77),e.EFF(39,"crm.clientReviewFinalResult.color"),e.k0s(),e.j41(40,"input",78,9),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.color,n)||(o.form.color=n),e.Njj(n)}),e.k0s()(),e.j41(42,"div",66)(43,"label",79),e.EFF(44,"general.table.notes"),e.k0s(),e.j41(45,"input",80,10),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.notes,n)||(o.form.notes=n),e.Njj(n)}),e.k0s()()(),e.j41(47,"div",81)(48,"label",82),e.EFF(49,"general.table.isActive"),e.k0s(),e.j41(50,"p-inputSwitch",83),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.isActive,n)||(o.form.isActive=n),e.Njj(n)}),e.k0s()(),e.j41(51,"div",84)(52,"button",85),e.nrm(53,"i",86)(54,"span",87),e.k0s()()()()()}if(2&a){const t=e.sdS(11),i=e.sdS(17),n=e.sdS(23),o=e.sdS(29),r=e.sdS(35),s=e.XpG();e.R7$(3),e.Y8G("ngIf",!s.isEditForm),e.R7$(),e.Y8G("ngIf",s.isEditForm),e.R7$(2),e.JRh(s.titleOperation),e.R7$(3),e.Y8G("hasProgressBar",!1)("fgsType",s.loaderOperationShap)("loaderId",s.operationLoader),e.R7$(7),e.R50("ngModel",s.form.nameAr),e.R7$(2),e.Y8G("ngIf",i.invalid&&i.touched),e.R7$(4),e.R50("ngModel",s.form.nameEn),e.R7$(2),e.Y8G("ngIf",n.invalid&&n.touched),e.R7$(4),e.R50("ngModel",s.form.scoreFrom),e.R7$(2),e.Y8G("ngIf",o.invalid&&o.touched),e.R7$(4),e.R50("ngModel",s.form.scoreTo),e.R7$(2),e.Y8G("ngIf",r.invalid&&r.touched),e.R7$(4),e.R50("ngModel",s.form.color),e.R7$(5),e.R50("ngModel",s.form.notes),e.R7$(5),e.R50("ngModel",s.form.isActive),e.R7$(2),e.Y8G("disabled",!t.valid)}}function qn(a,l){if(1&a){const t=e.RV6();e.j41(0,"delete-modal",90),e.bIt("deleteConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.DeleteConfirm())})("dismiss",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss())}),e.k0s()}}let ce=(()=>{class a extends F.w{constructor(t,i,n,o,r,s,g,C,I){super(t,i,g,n,o,r,s),this.baseService=n,this.excelService=I,this.title="crm.clientReviewFinalResult.title",this.titleOperation="crm.clientReviewFinalResult.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.employees=[],this.searchForm={},this.isResolveList=!0,this.countLoad=2,this.configRoute()}onUpdateIsActive(t){this.baseService.updateActive(t).pipe((0,u.Q)(this.notifier)).subscribe(i=>{i?this.alertService.success():this.alertService.error("general.message."+i)},i=>{this.alertService.error()})}ngOnInitMore(){}mapForm(t){return{...t}}mapRegisterForm(t){let i={...t};return i.id=0,i}OnSearch(t){this.ngxLoader.startLoader(h.a7),this.loadentities()}onSearch(){this.ngxLoader.startLoader(h.a7),this.loadentities()}configRoute(){}mapExcel(){let t=[];return this.entities?.forEach(i=>{t.push({nameAr:i.nameAr,nameEn:i.nameEn,isActive:this.getTranslationText("general.table.active"),notes:i.notes})}),t}onExportXlsx(){let t=this.mapExcel();this.excelService.exportAsExcelFile(t,this.getTranslationText(this.title),[])}editEntity(){let t=this.mapForm(this.form);this.baseService.editPut(t.id,t).pipe((0,k.O)(),(0,E.c)(this.mainDelay),(0,N.Z)(),(0,u.Q)(this.notifier),(0,G.j)(()=>this.ngxLoader.stopLoader(this.operationLoader))).subscribe(i=>{i.success?this.submitFunished():this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(Mn),e.rXU(R.u),e.rXU(p.vh),e.rXU(b.eD),e.rXU(m.Bq),e.rXU(e.gRc),e.rXU(y.V))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["clientReviewFinalResult"]],features:[e.Vt3],decls:22,vars:14,consts:[["tableMaster",""],["operation",""],["deleteModal",""],["tooltipContent",""],["formEntity","ngForm"],["nameAr","ngModel"],["nameEn","ngModel"],["scoreFrom","ngModel"],["scoreTo","ngModel"],["color","ngModel"],["notes","ngModel"],[1,"row"],[1,"col-lg-12"],[1,"card","grid"],[3,"reset","search","exportXlsx","addNew","addPermission","totalItems","title"],["control",""],[1,"col-md-3","mb-2"],[1,"search-box"],["type","search","id","filterValue","name","filterValue",1,"form-control","search","bg-light","border-light",3,"ngModelChange","placeholder","ngModel"],[1,"ri-search-line","search-icon"],[1,"card-body"],[1,"table-responsive"],["dataKey","id",3,"onLazyLoad","selectionChange","value","rows","lazy","totalRecords"],["pTemplate","header"],["pTemplate","body"],["class","text-center text-danger text-bold fs-6 p-3","translate","",4,"ngIf"],["class","row px-1 py-1 overflow-hidden",4,"ngIf"],[1,""],["translate","",2,"width",".5%"],["pSortableColumn","nameAr","translate","",2,"width","10%"],[1,"ri-expand-up-down-line"],["pSortableColumn","nameEn","translate","",2,"width","10%"],["pSortableColumn","scoreFrom","translate","",2,"width","5%"],["pSortableColumn","isActive","translate","",2,"width","8%"],["translate","",2,"width","10%"],[1,"fs-5"],["class","badge bg-success-subtle text-success p-2","translate","general.table.active",4,"ngIf"],["class","badge bg-danger-subtle text-danger p-2","translate","general.table.noActive",4,"ngIf"],["tooltipPosition","top",1,"mdi","mdi-cog-outline","text-muted","fs-16","align-middle","me-1",3,"ngbTooltip"],["class","btn btn-sm btn-soft-info edit-list mx-2",3,"click",4,"hasPermission"],["class","btn btn-sm btn-soft-danger remove-list",3,"click",4,"hasPermission"],["translate","general.table.active",1,"badge","bg-success-subtle","text-success","p-2"],["translate","general.table.noActive",1,"badge","bg-danger-subtle","text-danger","p-2"],[1,"ri-time-fill","text-warning"],[1,"ri-time-fill","text-danger"],[1,"ri-user-location-fill","text-primary"],[1,"btn","btn-sm","btn-soft-info","edit-list","mx-2",3,"click"],[1,"ri-pencil-fill","align-bottom","mx-1"],[1,"btn","btn-sm","btn-soft-danger","remove-list",3,"click"],[1,"ri-delete-bin-5-fill","align-bottom"],["translate","",1,"text-center","text-danger","text-bold","fs-6","p-3"],[1,"row","px-1","py-1","overflow-hidden"],[1,"col-sm-12","col-md-5","d-flex","align-items-center","justify-content-center","justify-content-md-start"],[3,"pagination"],[3,"lengthChange","lengthTable"],[1,"col-sm-12","col-md-7","fs-3","d-flex","align-items-center","justify-content-center","justify-content-md-end"],[3,"pageChange","pageSize","collectionSize","page","maxSize","rotate","boundaryLinks"],[1,"modal-content","border-0"],[1,"modal-header","p-3","bg-info-subtle"],[1,"card-title","mb-0"],["class","fw-bold fs-4","translate","",4,"ngIf"],["translate",""],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"hasProgressBar","fgsType","loaderId"],[3,"submit"],[1,"col-12"],["for","nameAr","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","nameAr","type","text","id","nameAr","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","nameEn","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","nameEn","type","text","id","nameEn","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["for","scoreFrom","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","scoreFrom","type","number","id","scoreFrom","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","scoreTo","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","scoreTo","type","number","id","scoreTo","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","color","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","color","type","color","id","color",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","notes","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","notes","type","text","id","notes",1,"form-control","fs-6",3,"ngModelChange","ngModel"],[1,"col-12","form-check"],["for","isActive","translate","",1,"fw-bold","form-label","w-100"],["name","isActive","inputId","isActive",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit","type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill",3,"disabled"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],["translate","",1,"fw-bold","fs-4"],["translate","",1,"text-danger","text-center"],[3,"deleteConfirm","dismiss"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"base-filter",14),e.bIt("reset",function(){return e.eBV(o),e.Njj(n.onReset())})("search",function(){return e.eBV(o),e.Njj(n.onSearch())})("exportXlsx",function(){return e.eBV(o),e.Njj(n.onExportXlsx())})("addNew",function(){e.eBV(o);const s=e.sdS(19);return e.Njj(n.openModalTitle(s,"md"))}),e.qex(4,15),e.j41(5,"div",16)(6,"div",17)(7,"input",18),e.nI1(8,"translate"),e.mxI("ngModelChange",function(s){return e.eBV(o),e.DH7(n.pagination.filterValue,s)||(n.pagination.filterValue=s),e.Njj(s)}),e.k0s(),e.nrm(9,"i",19),e.k0s()(),e.bVm(),e.k0s(),e.j41(10,"div",20)(11,"div",21)(12,"p-table",22,0),e.bIt("onLazyLoad",function(s){return e.eBV(o),e.Njj(n.tableChange(s))})("selectionChange",function(s){return e.eBV(o),e.Njj(n.onSelectionChange(s))}),e.DNE(14,Gn,19,0,"ng-template",23)(15,Bn,20,12,"ng-template",24),e.k0s()(),e.DNE(16,$n,2,0,"div",25)(17,Yn,6,8,"div",26),e.k0s()()()(),e.DNE(18,Jn,55,18,"ng-template",null,1,e.C5r)(20,qn,1,0,"ng-template",null,2,e.C5r)}2&i&&(e.R7$(3),e.Y8G("addPermission",e.lJ4(13,kn))("totalItems",n.pagination.totalItems)("title",n.title),e.R7$(4),e.FS9("placeholder",e.bMT(8,11,"task.tasklist.subject")),e.R50("ngModel",n.pagination.filterValue),e.R7$(5),e.Y8G("value",n.entities)("rows",n.pagination.pageSize)("lazy",!0)("totalRecords",n.pagination.totalItems),e.R7$(4),e.Y8G("ngIf",n.pagination.totalItems<=0),e.R7$(),e.Y8G("ngIf",n.pagination.totalItems>0))},dependencies:[p.bT,d.qT,d.me,d.Q0,d.BC,d.cb,d.YS,d.vS,d.cV,m.s5,x.g,T.p,A.w,S.b,w.m,z.p,_.Mm,v.XI,j.Ei,v.Tg,U.HW,b.Cv,m.md,p.vh,_.D9],encapsulation:2})}}return a})();function Wn(a,l){1&a&&e.nrm(0,"reviewQuestion")}function Kn(a,l){1&a&&e.nrm(0,"clientReviewFinalResult")}function Zn(a,l){1&a&&e.nrm(0,"clientReviewActionDoing")}let ei=(()=>{class a{constructor(){this.title="crm.crmSetting.title"}ngOnInit(){this.breadCrumbItems=[]}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["crm-setting"]],decls:27,vars:9,consts:[["Arrow","ngbNav"],[3,"title","breadcrumbItems"],[1,"col-12"],[1,"card"],[1,"card-body"],["ngbNav","",1,"nav","nav-pills","arrow-navtabs","nav-success","bg-light","mb-3",3,"activeId"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"d-block","d-sm-none"],[1,"mdi","mdi-home-variant"],["translate","crm.reviewQuestion.title",1,"d-sm-block"],["ngbNavContent",""],[1,"mdi","mdi-account"],["translate","crm.clientReviewFinalResult.title",1,"d-sm-block"],["translate","crm.clientReviewActionDoing.title",1,"d-sm-block"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"]],template:function(i,n){if(1&i&&(e.nrm(0,"app-breadcrumbs",1),e.nI1(1,"translate"),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5,0)(7,"li",6)(8,"a",7)(9,"span",8),e.nrm(10,"i",9),e.k0s(),e.nrm(11,"span",10),e.k0s(),e.DNE(12,Wn,1,0,"ng-template",11),e.k0s(),e.j41(13,"li",6)(14,"a",7)(15,"span",8),e.nrm(16,"i",12),e.k0s(),e.nrm(17,"span",13),e.k0s(),e.DNE(18,Kn,1,0,"ng-template",11),e.k0s(),e.j41(19,"li",6)(20,"a",7)(21,"span",8),e.nrm(22,"i",12),e.k0s(),e.nrm(23,"span",14),e.k0s(),e.DNE(24,Zn,1,0,"ng-template",11),e.k0s()(),e.j41(25,"div",15),e.nrm(26,"div",16),e.k0s()()()()),2&i){const o=e.sdS(6);e.FS9("title",e.bMT(1,7,n.title)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(5),e.Y8G("activeId",1),e.R7$(2),e.Y8G("ngbNavItem",1),e.R7$(6),e.Y8G("ngbNavItem",2),e.R7$(6),e.Y8G("ngbNavItem",3),e.R7$(7),e.Y8G("ngbNavOutlet",o)}},dependencies:[m.Um,m.X9,m.sy,m.Gx,m.Ri,m.WA,m.m_,X.m,_.Mm,ee,re,ce,_.D9],encapsulation:2})}}return a})();var W=c(56131);let ti=(()=>{class a extends W.E{constructor(t,i,n){super(t,i,n)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(f.Ix),e.KVO(B),e.KVO(R.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var K=c(23128),ni=c(21413);function ii(a,l){1&a&&(e.j41(0,"div",38),e.EFF(1," general.message.filedIdRequired "),e.k0s())}function ai(a,l){if(1&a){const t=e.RV6();e.j41(0,"div",25)(1,"div",26)(2,"label",27),e.EFF(3,"crm.leads.name"),e.k0s(),e.j41(4,"input",28,2),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.name,n)||(o.form.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,ii,2,0,"div",29),e.k0s(),e.j41(7,"div",26)(8,"label",30),e.EFF(9,"crm.leads.mobile"),e.k0s(),e.j41(10,"input",31,3),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.mobile,n)||(o.form.mobile=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",26)(13,"label",32),e.EFF(14,"crm.leads.email"),e.k0s(),e.j41(15,"input",33,4),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.email,n)||(o.form.email=n),e.Njj(n)}),e.k0s()(),e.j41(17,"div",26)(18,"label",34),e.EFF(19,"crm.leads.leadType"),e.k0s(),e.j41(20,"ng-select",35),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.leadsTypes,n)||(o.form.leadsTypes=n),e.Njj(n)}),e.k0s()(),e.j41(21,"div",26)(22,"label",34),e.EFF(23,"crm.leads.cityName"),e.k0s(),e.j41(24,"ng-select",36),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.cityId,n)||(o.form.cityId=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",26)(26,"label",34),e.EFF(27,"crm.leads.channelName"),e.k0s(),e.j41(28,"ng-select",37),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.form.channelId,n)||(o.form.channelId=n),e.Njj(n)}),e.k0s()()()}if(2&a){const t=e.sdS(5),i=e.XpG();e.R7$(4),e.R50("ngModel",i.form.name),e.R7$(2),e.Y8G("ngIf",t.invalid&&t.touched),e.R7$(4),e.R50("ngModel",i.form.mobile),e.R7$(5),e.R50("ngModel",i.form.email),e.R7$(5),e.Y8G("items",i.leadTypes)("multiple",!1),e.R50("ngModel",i.form.leadsTypes),e.R7$(4),e.Y8G("items",i.cities)("multiple",!1),e.R50("ngModel",i.form.cityId),e.R7$(4),e.Y8G("items",i.channels)("multiple",!1),e.R50("ngModel",i.form.channelId)}}let de=(()=>{class a{constructor(t,i,n,o,r,s,g,C){this.routerActive=t,this.translateService=i,this.baseService=n,this.alertService=o,this.datePipe=r,this.modalService=s,this.ngxLoader=g,this.router=C,this.editLeads="crm.leads.editLeads",this.addLeads="crm.leads.addLeads",this.titleOperation="crm.client.titleOperation",this.keySelected="",this.assignUsers=[],this.times=[],this.shifts=[],this.searchForm="",this.jobTypes=[],this.weekDays=[],this.breadCrumbItems=[],this.form={},this.idForm=0,this.isResolveList=!0,this.employeeGroups=[],this.notifier=new ni.B,this.mainDelay=100,this.loaderSearchShap=h.cX,this.loaderOperationShap=h.$$,this.operationLoader=h.ZW,this.isEditForm=!1,this.channels=[],this.cities=[],this.leadTypes=[]}ngOnDestroy(){this.notifier.next(),this.notifier.complete()}ngOnInit(){this.GetAgentLookUps(),this.configRoute(),this.breadCrumbItems=[{label:"layout.sidebar.leads"},{label:"crm.leads.title",active:!0,url:"crm/leads"},{label:this.isEditForm?"general.action.edit":"general.action.register",active:!0}]}configRoute(){this.routerActive.data.pipe((0,u.Q)(this.notifier)).subscribe(t=>{let i=t.data.data;i&&(this.isEditForm=!0,this.form=i,"Proposed"==i.leadsTypes?this.form.leadsTypes=1:"Inquiry"==i.leadsTypes&&(this.form.leadsTypes=2))},()=>{this.alertService.error()})}GetAgentLookUps(){this.baseService.GetLeadsLookUps().subscribe(t=>{this.channels=t.data.channels,this.cities=t.data.cityNames,this.leadTypes=t.data.leadTypes},t=>{console.log(t)})}OnSubmit(){this.ngxLoader.startLoader(this.operationLoader),!0===this.isEditForm?this.editEntity():this.registerEntity()}mapRegisterForm(t){let i={...t};return i.id=0,i}registerEntity(){this.ngxLoader.startLoader(h.ZW);let t=this.mapRegisterForm(this.form);this.baseService.register(t).pipe((0,k.O)(),(0,E.c)(this.mainDelay),(0,N.Z)(),(0,u.Q)(this.notifier),(0,G.j)(()=>this.ngxLoader.stopLoader(h.ZW)),(0,P.W)(i=>(0,te.$)(i))).subscribe(i=>{i.success?(this.alertService.success(),this.router.navigateByUrl("/crm/leads")):this.alertService.error("general.message."+i.message)},i=>{this.alertService.error("general.message."+i)})}editEntity(){this.baseService.editPut(this.form.id,this.form).pipe((0,k.O)(),(0,E.c)(this.mainDelay),(0,N.Z)(),(0,u.Q)(this.notifier),(0,G.j)(()=>this.ngxLoader.stopLoader(h.ZW))).subscribe(t=>{t.success?this.alertService.success():this.alertService.error("general.message."+t.message)},t=>{this.alertService.error("general.message."+t)})}getTranslationText(t){let i="";return this.translateService.get(t).pipe((0,u.Q)(this.notifier)).subscribe(n=>{i=n}),i}onBack(){this.router.navigateByUrl("/crm/leads")}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(f.nX),e.rXU(_.c$),e.rXU(O),e.rXU(R.u),e.rXU(p.vh),e.rXU(m.Bq),e.rXU(b.eD),e.rXU(f.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-leads-operation"]],decls:23,vars:10,consts:[["formEntity","ngForm"],["ModifierCustom","ngbNav"],["name","ngModel"],["mobile","ngModel"],["email","ngModel"],[3,"title","breadcrumbItems"],[1,"col-12"],[1,"card"],[3,"hasProgressBar","fgsType","loaderId"],[3,"ngSubmit"],[1,"card-body"],["ngbNav","",1,"nav","nav-pills","nav-customs","nav-danger","mb-3",3,"activeId"],[3,"ngbNavItem"],["ngbNavLink","","translate","hr.employee.basicInfo",1,"nav-link"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"card-footer"],[1,"text-center"],["type","button",1,"mx-2","btn","btn-danger","btn-label","waves-effect","waves-light","rounded-pill",3,"click"],[1,"ri-arrow-left-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.back"],["type","submit",1,"btn","btn-primary","btn-label","waves-effect","waves-light","rounded-pill"],[1,"ri-check-double-line","label-icon","align-middle","rounded-pill","fs-16","me-2"],["translate","general.action.save"],[1,"row"],[1,"col-12","col-md-6"],["for","name","translate","",1,"required","fw-bold","form-label"],["InputTirmFilter","","name","name","type","text","id","name","required","",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["class","text-danger text-center  ","translate","",4,"ngIf"],["for","mobile","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","mobile","type","text","id","mobile",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["for","email","translate","",1,"fw-bold","form-label"],["InputTirmFilter","","name","email","type","text","id","email",1,"form-control","fs-6",3,"ngModelChange","ngModel"],["translate","",1,"required","fw-bold","form-label","w-100"],["name","leadTypesId","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","cityId","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["name","channelId","bindValue","id","bindLabel","name",3,"ngModelChange","items","multiple","ngModel"],["translate","",1,"text-danger","text-center"]],template:function(i,n){if(1&i){const o=e.RV6();e.nrm(0,"app-breadcrumbs",5),e.nI1(1,"translate"),e.j41(2,"div",6)(3,"div",7),e.nrm(4,"ngx-ui-loader",8),e.j41(5,"form",9,0),e.bIt("ngSubmit",function(){return e.eBV(o),e.Njj(n.OnSubmit())}),e.j41(7,"div",10)(8,"ul",11,1)(10,"li",12),e.nrm(11,"a",13),e.DNE(12,ai,29,13,"ng-template",14),e.k0s()(),e.j41(13,"div",15),e.nrm(14,"div",16),e.k0s()(),e.j41(15,"div",17)(16,"div",18)(17,"button",19),e.bIt("click",function(){return e.eBV(o),e.Njj(n.onBack())}),e.nrm(18,"i",20)(19,"span",21),e.k0s(),e.j41(20,"button",22),e.nrm(21,"i",23)(22,"span",24),e.k0s()()()()()()}if(2&i){const o=e.sdS(9);e.FS9("title",0==n.isEditForm?n.addLeads:e.bMT(1,8,n.editLeads)),e.Y8G("breadcrumbItems",n.breadCrumbItems),e.R7$(4),e.Y8G("hasProgressBar",!1)("fgsType",n.loaderOperationShap)("loaderId",n.operationLoader),e.R7$(4),e.Y8G("activeId",1),e.R7$(2),e.Y8G("ngbNavItem",1),e.R7$(4),e.Y8G("ngbNavOutlet",o)}},dependencies:[p.bT,d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,m.Um,m.X9,m.sy,m.Gx,m.Ri,m.WA,m.m_,X.m,w.m,_.Mm,b.Cv,M.vr,_.D9],encapsulation:2})}}return a})();var me=c(7673);let oi=(()=>{class a{constructor(t,i,n){this.router=t,this.clientService=i,this.alertService=n}resolve(t,i){const o=this.router.getCurrentNavigation()?.extras?.state?.id;return""===o?(this.alertService.error(),this.router.navigateByUrl("/clients"),(0,me.of)(null)):this.clientService.getById(o)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(f.Ix),e.KVO(O),e.KVO(R.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const si=[{path:"crm-setting",component:ei},{path:"serviceAfterSales",component:St},{path:"clientReviews",component:Ht,resolve:{data:ti}},{path:"review-result",component:ce},{path:"review-actions",component:ee},{path:"reviewQuestions",component:re},{path:"reviewStatistics",component:Sn,resolve:{data:(()=>{class a extends W.E{constructor(t,i,n,o){super(t,n,o),this.datePipe=i,this.baseService=n}resolve(t,i){return this.setCurrentMonthRange(),this.baseService.ClientReviewChartCount(this.pagination).pipe((0,P.W)(n=>(this.router.navigate([""]),this.alertService.error(n),(0,me.of)(null))))}setCurrentMonthRange(){const t=new Date,i=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);this.pagination.dateFrom=this.datePipe.transform(i,"yyyy-MM-ddT00:00:00.000"),this.pagination.dateTo=this.datePipe.transform(n,"yyyy-MM-ddT23:59:59.9999")}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(f.Ix),e.KVO(p.vh),e.KVO(B),e.KVO(R.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()}},{path:"leads",component:Ue,resolve:{data:(()=>{class a extends W.E{constructor(t,i,n){super(t,i,n)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(f.Ix),e.KVO(O),e.KVO(R.u))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},canActivate:[K.B],data:{roles:["admin"]}},{path:"leads/register",component:de,canActivate:[K.B],data:{roles:["admin"]}},{path:"leads/edit",component:de,resolve:{data:oi},canActivate:[K.B],data:{roles:["admin"]}}];let ri=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(si),f.iI]})}}return a})();var li=c(93887),ci=c(81391),di=c(73687),mi=c(5946),pi=c(5490),gi=c(18865),_i=c(6064),ui=c(70255),hi=c(66900),fi=c(89524),bi=c(41198),vi=c(65430),Ci=c(32454),Ri=c(71144),ji=c(36012),wi=c(60587);let Ii=(()=>{class a{constructor(){(0,pe.eV)(_e().loadAnimation)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[p.vh],imports:[p.MD,d.YN,d.X1,m.zH,m.Pv,m.Gk,m.h_,m.c9,Ci.A,hi.JG,Y.ND.forRoot(),ui.r,ri,li.G,Ri.j,_.h,v.bG,vi.q4,U.H_,b.th,m.n8,_i.E,pi.w8,le.J,mi.gI,ji.T,gi.z0,ci.ad,di.tP,M.MQ,wi.JobsModule,bi.TV,m._f,m.HC,fi.Ls,ut]})}}return a})()}}]);